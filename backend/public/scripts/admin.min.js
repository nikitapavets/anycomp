$("document").ready(function(){function e(){var e="";$(".dual_selects__second option").each(function(t){e+=$(".dual_selects__second option").eq(t).val()+","}),$("#techStatuses").val(e)}function t(e,t,n,a,d,i){$(c).find(".title").text(e),$(c).find(".content .text").text(t),"create"==n?(""!=d&&($(c).find(".create."+d).removeClass("hidden"),$(c).find(".create").addClass("hidden")),$(c).find(".create").removeClass("hidden"),$(c).find(".create form").attr("action",a),$(c).find(".delete").addClass("hidden"),$(c).find(".edit").addClass("hidden"),$(c).find(".select").addClass("hidden")):"delete"==n?($(c).find(".create").addClass("hidden"),$(c).find(".delete").removeClass("hidden"),$(c).find(".delete form").attr("action",a),$(c).find(".edit").addClass("hidden"),$(c).find(".select").addClass("hidden")):"edit"==n?($(c).find(".create").addClass("hidden"),$(c).find(".delete").addClass("hidden"),$(c).find(".edit").removeClass("hidden"),$(c).find(".edit form").attr("action",a),$(c).find(".select").addClass("hidden")):"select"==n&&($(c).find(".create").addClass("hidden"),$(c).find(".delete").addClass("hidden"),$(c).find(".edit").addClass("hidden"),$(c).find(".select").removeClass("hidden"),$(c).find(".select form").attr("action",a),$(c).find(".select form option").each(function(e){$(c).find(".select form option").eq(e).val()==i&&($(c).find(".select form option").eq(e).attr("selected","selected"),$(c).find(".select form .selector span").text($(c).find(".select form option").eq(e).text()))})),c.removeClass("hidden")}function n(e){if(!e)return void $("#addError").html("");if(a(e)){if(e.length>0)for(var t=0;t<e.length;t++){var n='<div class="admin-panel__notes warning" id="addTechError"><p><strong>Внимание:</strong><span class="descr">'+e[t]+"</span></p></div>",d=$("#addError").html();$("#addError").html(d+n)}}else{var n='<div class="admin-panel__notes warning"><p><strong>Внимание:</strong><span class="descr">'+e+"</span></p></div>";$("#addError").html(n)}}function a(e){return"object"==typeof e&&e instanceof Array}function d(e){var t=this;t.pos=-1,$("ul.tabs a").each(function(n){this==e&&(t.pos=n)}),$("ul.tabs a").removeClass("active"),$(e).addClass("active"),$("table.tabs .tab").addClass("hidden"),$("table.tabs .tab").eq(t.pos).removeClass("hidden"),$(".dynamic-table__stats.tabs .tab").addClass("hidden"),$(".dynamic-table__stats.tabs .tab").eq(t.pos).removeClass("hidden")}var i={uploader:function(){$(".uploader input").focus(function(e){$(this).parent().find(".upload-files").removeClass("hidden")}),$(".uploader input").on("change",function(e,t,n){var a=this.value.replace(/\\/g,"/").replace(/.*\//,"");$(this).next(".filename").text(a)})},fileUploader:function(){$(document).click(function(e){$(e.target).closest(".upload-files__area").length||$(e.target).closest("input").length||$(e.target).closest(".upload-files__area .admin-panel__buttons").length||$(".upload-files").addClass("hidden")})},ajaxUploadSingleImage:function(){$(".uploaderSingleImage").each(function(e,t){var n=$(t),a=n.find("#UploadSingleImage"),d=n.find(".loader"),s=n.find(".error");a.length&&(new AjaxUpload(a,{action:"/upload/files",name:"uploadfile",onSubmit:function(e,t){return s.text(""),t&&/^(jpg|png|jpeg|gif)$/.test(t)?n.find(".item").length>=1?(s.text("Превышено максимальное колличество файлов."),!1):void d.removeClass("hidden"):(s.text("Поддерживаемые форматы: jpg, png, gif."),!1)},onComplete:function(e,t){var a='<div class="item"><img src="'+t+'" data-link="'+t+'"> <a href="javascript:;" class="cross"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#cross_ff491f"></use></svg></a></div>';n.find(".items").append(a),d.addClass("hidden"),i.updateUploadFiles(n),i.deleteUploadFiles(n)}}),i.deleteUploadFiles(n))})},ajaxUploader:function(){$(".uploaderMultiImage").each(function(e,t){var n=$(t),a=n.find("#UploadFiles"),d=a.find(".loader"),s=a.find(".error");a.length&&(new AjaxUpload(a,{action:"/upload/files",name:"uploadfile",onSubmit:function(e,t){return s.text(""),t&&/^(jpg|png|jpeg|gif)$/.test(t)?n.find(".item").length>=12?(s.text("Превышено максимальное колличество файлов."),!1):void d.removeClass("hidden"):(s.text("Поддерживаемые форматы: jpg, png, gif."),!1)},onComplete:function(e,t){var a='<div class="item"><img src="'+t+'" data-link="'+t+'"> <a href="javascript:;" class="cross"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#cross_ff491f"></use></svg></a></div>';n.find(".items").append(a),d.addClass("hidden"),i.updateUploadFiles(n),i.deleteUploadFiles(n)}}),i.deleteUploadFiles(n))})},updateUploadFiles:function(e){var t=[];e.find(".item").each(function(n){t.push(e.find(".item img").eq(n).data("link"))}),e.find(".inp_img").val(t.join(",")),0==e.find(".item").length?e.find(".filename").text("Файлы не выбраны"):e.find(".filename").text("Выбрано файлов: "+e.find(".item").length)},deleteUploadFiles:function(e){e.find(".cross").click(function(t){return $(this).parent().remove(),i.updateUploadFiles(e),t.preventDefault(),!1})},adminChosen:function(){var e=[],t=[],n=[],a=[],d=[];$(".admin-chosen").each(function(i,s){e[i]=$(s),t[i]=e[i].find(".admin-chosen__area"),n[i]=e[i].find(".admin-chosen__drop"),a[i]=e[i].find(".admin-chosen__drop--item"),d[i]=e[i].find(".admin-chosen__input"),t[i].click(function(){var e=0;a[i].each(function(t){a[i].eq(t).hasClass("hidden")&&e++}),e!=a[i].length&&n[i].removeClass("hidden")});var l=function(){e[i].find(".close").click(function(){$(this).parent().remove();var e=$(this).parent().find("span").text();a[i].each(function(t){a[i].eq(t).text()==e&&a[i].eq(t).removeClass("hidden")}),o()})};l();var o=function(){var e=[];a[i].each(function(t){a[i].eq(t).hasClass("hidden")&&e.push(a[i].eq(t).data("id"))}),d[i].val(e.join(","))};o(),a[i].click(function(){var e=$(this).text(),a='<li class="admin-chosen__area--item"> <span>'+e+'</span> <a href="javascript:;" class="close"></a> </li>';t[i].append(a),n[i].addClass("hidden"),$(this).addClass("hidden"),l(),o()}),$(document).click(function(e){$(e.target).closest(".admin-chosen__drop").length||$(e.target).closest(".admin-chosen__area").length||n[i].addClass("hidden")})})}};i.fileUploader(),i.uploader(),i.ajaxUploader(),i.ajaxUploadSingleImage(),i.adminChosen(),$(".admin-panel__left-side--menu .menu-item").click(function(e){$(this).toggleClass("active"),$(this).next("ul.sub").slideToggle("fast")}),$(".admin-panel__left-side--menu .menu-item-sub").click(function(e){$(".admin-panel__left-side--menu .menu-item-sub").each(function(e){$(this).parent().removeClass("active")}),$(this).parent().addClass("active")});var s={};s.onlyRussian=function(e){return e.search(/^[А-Я|ё| ]+$/i)!=-1},s.isEmpty=function(e){return isNaN(e)?""==e.trim():0==e},$(".inp_select").change(function(e){$(this).prev("span").text($(this).find("option:selected").text())}),$(".admin-panel__checker input").click(function(e){$(this).parent("span").toggleClass("checked")}),$(".inp_plus").click(function(e){$(this).parent().next().removeClass("hidden"),$(this).addClass("hidden")}),$(".dual_selects__stof").click(function(t){var n=$(".dual_selects__second option:selected");$(".dual_selects__first").append(n),e(),t.preventDefault()}),$(".dual_selects__alltof").click(function(t){var n=$(".dual_selects__second option");n.each(function(e){$(".dual_selects__first").append(n[e])}),e(),t.preventDefault()}),$(".dual_selects__ftos").click(function(t){var n=$(".dual_selects__first option:selected");$(".dual_selects__second").append(n),e(),t.preventDefault()}),$(".dual_selects__alltos").click(function(t){var n=$(".dual_selects__first option");n.each(function(e){$(".dual_selects__second").append(n[e])}),e(),t.preventDefault()}),$(".formNextBtn").click(function(e){if($(this).hasClass("disabled"))return e.preventDefault(),!1;var t=$(".blockForm"),n=$(this).data("pos"),a=$(t).find(".admin-panel__widget").eq(parseInt(n)),d=[];$(a).find(".fieldForValidate").each(function(e){var t=a.find(".fieldForValidate").eq(e),n=$(a).find(".fieldForValidate").eq(e).text(),i=$(a).find(".fieldForValidate").eq(e).data("type"),l=$(a).find(".fieldForValidate").eq(e).parent().next(".widget-row__right").find("input").val(),o=parseInt($(a).find(".fieldForValidate").eq(e).parent().next(".widget-row__right").find("select").val()),r=l||o||"";if(s.isEmpty(r))"require"==$(t).data("require")&&(d.push("Необходимо заполнить поле '"+n+"'."),$(a).find(".required").eq(e).parent().next(".widget-row__right").find("input").val(""));else switch(i){case"only_rus":s.onlyRussian(r)||d.push("Поле '"+n+"' может состоять только из русских символов.")}});var i=$("#blockErrors");if($(i).html(""),d.length>0){for(var l=0;l<d.length;l++){var o='<div class="admin-panel__notes warning" id="addTechError"><p><strong>Внимание:</strong><span class="descr">'+d[l]+"</span></p></div>",r=$(i).html();$(i).html(r+o)}return e.preventDefault(),!1}return n==$(".formNextBtn.top").length-1?($(".formNextBtn.top").eq(n).addClass("disabled"),!0):($(t).find(".admin-panel__widget").addClass("hidden"),$(t).find(".admin-panel__widget").eq(n+1).removeClass("hidden"),$(".formNextBtn.top").parent().addClass("hidden"),$(".formNextBtn.top").eq(n+1).parent().removeClass("hidden"),n==$(".formNextBtn.bottom").length-1?($(".formNextBtn.bottom").eq(n).addClass("disabled"),!0):($(t).find(".admin-panel__widget").addClass("hidden"),$(t).find(".admin-panel__widget").eq(n+1).removeClass("hidden"),$(".formNextBtn.bottom").parent().addClass("hidden"),$(".formNextBtn.bottom").eq(n+1).parent().removeClass("hidden"),e.preventDefault(),!1))}),$(".formBackBtn").click(function(e){var t=$(this).data("pos"),n=$(".blockForm");return $(n).find(".admin-panel__widget").addClass("hidden"),$(n).find(".admin-panel__widget").eq(t-1).removeClass("hidden"),$(".formNextBtn.top").parent().addClass("hidden"),$(".formNextBtn.top").eq(t-1).parent().removeClass("hidden"),$(".formNextBtn.bottom").parent().addClass("hidden"),$(".formNextBtn.bottom").eq(t-1).parent().removeClass("hidden"),e.preventDefault(),!1});var l=$("#clientInfo"),o=$("#techInfo"),r=$("#statusesInfo");$("#addTechNextClientBtn").click(function(e){var t=[],n=$("#clientLastName").val(),a=$("#clientFirstName").val(),d=$("#clientFatherName").val(),i=$("#clientPhoneNumber").val(),r=$("#clientCity").val(),c=$("#clientStreet").val();$("#clientHouseNumber").val(),$("#clientFlatNumber").val();if(""==n?t.push("Необходимо заполнить поле 'Фамилия'."):s.onlyRussian(n)||t.push("Фамилия может состоять только из русских символов."),""==a?t.push("Необходимо заполнить поле 'Имя'."):s.onlyRussian(a)||t.push("Имя может состоять только из русских символов."),""==d?t.push("Необходимо заполнить поле 'Отчество'."):s.onlyRussian(d)||t.push("Отчество может состоять только из русских символов."),""==i&&t.push("Необходимо заполнить поле 'Номер телефона'."),""==r||s.onlyRussian(r)||t.push("Название города может состоять только из русских символов."),""==c||s.onlyRussian(c)||t.push("Название улицы может состоять только из русских символов."),$("#addTechError").html(""),t.length>0)for(var h=0;h<t.length;h++){var f='<div class="admin-panel__notes warning" id="addTechError"><p><strong>Внимание:</strong><span class="descr">'+t[h]+"</span></p></div>",p=$("#addTechError").html();$("#addTechError").html(p+f)}else l.addClass("hidden"),o.removeClass("hidden");e.preventDefault()}),$("#addTechNextTechBtn").click(function(t){var n=[],a=$("#techCategory").val(),d=$("#techCategoryNew").val(),i=$("#techBrand").val(),s=$("#techBrandNew").val(),l=$("#techTitle").val(),c=$("#techWorker").val();if(0==a&&""==d&&n.push("Необходимо выбрать категорию из поля 'Категория'."),0==i&&""==s&&n.push("Необходимо выбрать бренд из поля 'Бренд'."),""==l&&n.push("Необходимо заполнить поле 'Название'."),""==c&&n.push("Необходимо выбрать принимающего из поля 'Принял в ремонт'."),$("#addTechError").html(""),n.length>0)for(var h=0;h<n.length;h++){var f='<div class="admin-panel__notes warning" id="addTechError"><p><strong>Внимание:</strong><span class="descr">'+n[h]+"</span></p></div>",p=$("#addTechError").html();$("#addTechError").html(p+f)}else o.addClass("hidden"),r.removeClass("hidden"),e();t.preventDefault()}),$("#addTechPrevTechBtn").click(function(e){o.addClass("hidden"),l.removeClass("hidden"),e.preventDefault()}),$("#addTechPrevStatusBtn").click(function(e){r.addClass("hidden"),o.removeClass("hidden"),e.preventDefault()}),$(".mainChecker input").change(function(e){$(this).parent("span").hasClass("checked")?$(".subChecker").each(function(e){$(".subChecker").eq(e).addClass("checked")}):$(".subChecker").each(function(e){$(".subChecker").eq(e).removeClass("checked")})}),$(".subChecker input").change(function(e){$(".subChecker.checked").length==$(".subChecker").length?$(".mainChecker").addClass("checked"):$(".mainChecker").removeClass("checked")}),$(".DBDeleteBtn").click(function(e){var t="";$(".subChecker.checked").each(function(e){t+=","+$(this).data("id")}),t.length&&(t=t.slice(1)),$("#deleteItems").val(t)}),$("#popupNo").click(function(e){c.addClass("hidden")}),$(".DBDeleteBtn").click(function(e){var a=$(".subChecker.checked").length;if(a>0){t("Удаление элемента","Вы уверены, что хотите удалить элементы из списка? ("+a+"шт.)","delete",$(this).data("action")),n("")}else{n("Выберите хотя бы один элемент для удаления.")}}),$(".DBAddBtn").click(function(e){t("Добавление элемента","Укажите, название нового элемента.","create",$(this).data("action"),$(this).data("types"))}),$(".DBEditBtn").click(function(e){var n=$(this).prev("span").text();$("#editItemName").val(n);var a=$(this).data("id"),d=$(".DBEditBtnInline").data("action"),i=$(this).data("types");$("#editItemId").val(a),t("Изменение элемента","Укажите, новое название элемента.","edit",d,i)}),$(".popUp__changeStatus").click(function(e){var n=$(this).data("action"),a=$(this).data("id"),d=$(this).data("selected");$("#selectItemId").val(a),t("Изменение элемента","Выберите новое значение элемента.","select",n,$(this).data("types"),d)});var c=$(".admin-panel__popup.database");$("ul.tabs a").click(function(e){d(this)}),{shopPopupWithDetailedDescription:function(){$(".shopPopupWithDetailedDescription").click(function(e){return $(".shopPopupWithDetailedDescription").next(".additional-info").addClass("hidden"),$(this).next(".additional-info").toggleClass("hidden"),e.preventDefault(),!1}),$(document).click(function(e){$(e.target).closest(".additional-info").length||$(".shopPopupWithDetailedDescription").next(".additional-info").addClass("hidden")})}}.shopPopupWithDetailedDescription()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbIiQiLCJyZWFkeSIsInNhdmVTdGF0dXNlcyIsInN0YXR1c2VzIiwiZWFjaCIsImkiLCJlcSIsInZhbCIsInNob3dQb3B1cCIsInRpdGxlIiwiY29udGVudCIsInR5cGUiLCJsaW5rIiwidHlwZXMiLCJzZWxlY3RlZCIsInBvcHVwIiwiZmluZCIsInRleHQiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiYXR0ciIsInNob3dFcnJvciIsImVycm9yIiwiaHRtbCIsImlzX2FycmF5IiwibGVuZ3RoIiwiZXJyb3JCbG9jayIsIm9sZF9odG1sIiwiYSIsIkFycmF5IiwidGFibGVUYWJzIiwiZWwiLCJzZWxmIiwidGhpcyIsInBvcyIsIkZvcm1zIiwidXBsb2FkZXIiLCJmb2N1cyIsImUiLCJwYXJlbnQiLCJvbiIsImV2ZW50IiwiZmlsZXMiLCJsYWJlbCIsImZpbGVfbmFtZSIsInZhbHVlIiwicmVwbGFjZSIsIm5leHQiLCJmaWxlVXBsb2FkZXIiLCJkb2N1bWVudCIsImNsaWNrIiwidGFyZ2V0IiwiY2xvc2VzdCIsImFqYXhVcGxvYWRTaW5nbGVJbWFnZSIsIml0ZW0iLCJidG5VcGxvYWQiLCJsb2FkZXIiLCJBamF4VXBsb2FkIiwiYWN0aW9uIiwibmFtZSIsIm9uU3VibWl0IiwiZmlsZSIsImV4dCIsInRlc3QiLCJvbkNvbXBsZXRlIiwicmVzcG9uc2UiLCJhcHBlbmQiLCJ1cGRhdGVVcGxvYWRGaWxlcyIsImRlbGV0ZVVwbG9hZEZpbGVzIiwiYWpheFVwbG9hZGVyIiwibGlua3MiLCJwdXNoIiwiZGF0YSIsImpvaW4iLCJyZW1vdmUiLCJwcmV2ZW50RGVmYXVsdCIsImFkbWluQ2hvc2VuIiwiYmFzZSIsImFyZWEiLCJkcm9wQXJlYSIsImRyb3BJdGVtIiwiaW5wdXQiLCJpbmRleCIsImhpZGRlbkl0ZW1zIiwiaGFzQ2xhc3MiLCJjbG9zZUhhbmRsZSIsIm5vZGVUZXh0IiwidXBkYXRlQ2hvc2VuIiwiY2hvc2VuSXRlbXMiLCJpdGVtVGV4dCIsIml0ZW1Ob2RlIiwidG9nZ2xlQ2xhc3MiLCJzbGlkZVRvZ2dsZSIsIlZhbGlkYXRvciIsIm9ubHlSdXNzaWFuIiwic2VhcmNoIiwiaXNFbXB0eSIsImlzTmFOIiwidHJpbSIsImNoYW5nZSIsInByZXYiLCJibG9ja0Zvcm0iLCJ3aWRnZXQiLCJwYXJzZUludCIsImZpZWxkIiwiZmllbGRfbmFtZSIsImZpZWxkX3ZhbGlkX3R5cGUiLCJmaWVsZF9pbnB1dCIsImZpZWxkX3NlbGVjdCIsImZpZWxkX3ZhbHVlIiwiYmxvY2tFcnJvciIsImNsaWVudEluZm8iLCJ0ZWNoSW5mbyIsInN0YXR1c2VzSW5mbyIsImNsaWVudExhc3ROYW1lIiwiY2xpZW50Rmlyc3ROYW1lIiwiY2xpZW50RmF0aGVyTmFtZSIsImNsaWVudFBob25lTnVtYmVyIiwiY2xpZW50Q2l0eSIsImNsaWVudFN0cmVldCIsInRlY2hDYXRlZ29yeSIsInRlY2hDYXRlZ29yeU5ldyIsInRlY2hCcmFuZCIsInRlY2hCcmFuZE5ldyIsInRlY2hUaXRsZSIsInRlY2hXb3JrZXIiLCJkZWxldGVJdGVtcyIsInNsaWNlIiwiZGVsZXRlSXRlbXNDb3VudCIsImlkIiwic2hvcFBvcHVwV2l0aERldGFpbGVkRGVzY3JpcHRpb24iXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFLFlBQVlDLE1BQU0sV0F5UWhCLFFBQVNDLEtBQ0wsR0FBSUMsR0FBVyxFQUNmSCxHQUFFLGdDQUFnQ0ksS0FBSyxTQUFVQyxHQUM3Q0YsR0FBWUgsRUFBRSxnQ0FBZ0NNLEdBQUdELEdBQUdFLE1BQVEsTUFFaEVQLEVBQUUsaUJBQWlCTyxJQUFJSixHQXdXM0IsUUFBU0ssR0FBVUMsRUFBT0MsRUFBU0MsRUFBTUMsRUFBTUMsRUFBT0MsR0FFbERkLEVBQUVlLEdBQU9DLEtBQUssVUFBVUMsS0FBS1IsR0FDN0JULEVBQUVlLEdBQU9DLEtBQUssa0JBQWtCQyxLQUFLUCxHQUV6QixVQUFSQyxHQUNhLElBQVRFLElBQ0FiLEVBQUVlLEdBQU9DLEtBQUssV0FBYUgs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Q29udGVudCI6WyIkKCdkb2N1bWVudCcpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBGb3JtcyA9IHtcblxuICAgICAgICAndXBsb2FkZXInOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICQoJy51cGxvYWRlciBpbnB1dCcpLmZvY3VzKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKCcudXBsb2FkLWZpbGVzJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnLnVwbG9hZGVyIGlucHV0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChldmVudCwgZmlsZXMsIGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVfbmFtZSA9IHRoaXMudmFsdWUucmVwbGFjZSgvXFxcXC9nLCAnLycpLnJlcGxhY2UoLy4qXFwvLywgJycpO1xuICAgICAgICAgICAgICAgICQodGhpcykubmV4dCgnLmZpbGVuYW1lJykudGV4dChmaWxlX25hbWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICAnZmlsZVVwbG9hZGVyJzogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJy51cGxvYWQtZmlsZXNfX2FyZWEnKS5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJ2lucHV0JykubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKCQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCcudXBsb2FkLWZpbGVzX19hcmVhIC5hZG1pbi1wYW5lbF9fYnV0dG9ucycpLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICQoJy51cGxvYWQtZmlsZXMnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9LFxuXG4gICAgICAgICdhamF4VXBsb2FkU2luZ2xlSW1hZ2UnOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICQoJy51cGxvYWRlclNpbmdsZUltYWdlJykuZWFjaChmdW5jdGlvbiAoaSwgaXRlbSkge1xuICAgICAgICAgICAgICAgIHZhciB1cGxvYWRlciA9ICQoaXRlbSk7XG4gICAgICAgICAgICAgICAgdmFyIGJ0blVwbG9hZCA9IHVwbG9hZGVyLmZpbmQoJyNVcGxvYWRTaW5nbGVJbWFnZScpO1xuICAgICAgICAgICAgICAgIHZhciBsb2FkZXIgPSB1cGxvYWRlci5maW5kKCcubG9hZGVyJyk7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yID0gdXBsb2FkZXIuZmluZCgnLmVycm9yJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYnRuVXBsb2FkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgQWpheFVwbG9hZChidG5VcGxvYWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJy91cGxvYWQvZmlsZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3VwbG9hZGZpbGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25TdWJtaXQ6IGZ1bmN0aW9uIChmaWxlLCBleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci50ZXh0KCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShleHQgJiYgL14oanBnfHBuZ3xqcGVnfGdpZikkLy50ZXN0KGV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnRleHQoJ9Cf0L7QtNC00LXRgNC20LjQstCw0LXQvNGL0LUg0YTQvtGA0LzQsNGC0Ys6IGpwZywgcG5nLCBnaWYuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVwbG9hZGVyLmZpbmQoJy5pdGVtJykubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IudGV4dCgn0J/RgNC10LLRi9GI0LXQvdC+INC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQutC+0LvQu9C40YfQtdGB0YLQstC+INGE0LDQudC70L7Qsi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkZXIucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKGZpbGUsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSAnJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBzcmM9XCInICsgcmVzcG9uc2UgKyAnXCIgZGF0YS1saW5rPVwiJyArIHJlc3BvbnNlICsgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIDxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBjbGFzcz1cImNyb3NzXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx1c2UgeGxpbms6aHJlZj1cIiNjcm9zc19mZjQ5MWZcIj48L3VzZT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvc3ZnPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9hPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlci5maW5kKCcuaXRlbXMnKS5hcHBlbmQoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVyLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvcm1zLnVwZGF0ZVVwbG9hZEZpbGVzKHVwbG9hZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3Jtcy5kZWxldGVVcGxvYWRGaWxlcyh1cGxvYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIEZvcm1zLmRlbGV0ZVVwbG9hZEZpbGVzKHVwbG9hZGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAnYWpheFVwbG9hZGVyJzogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAkKCcudXBsb2FkZXJNdWx0aUltYWdlJykuZWFjaChmdW5jdGlvbiAoaSwgaXRlbSkge1xuICAgICAgICAgICAgICAgIHZhciB1cGxvYWRlciA9ICQoaXRlbSk7XG4gICAgICAgICAgICAgICAgdmFyIGJ0blVwbG9hZCA9IHVwbG9hZGVyLmZpbmQoJyNVcGxvYWRGaWxlcycpO1xuICAgICAgICAgICAgICAgIHZhciBsb2FkZXIgPSBidG5VcGxvYWQuZmluZCgnLmxvYWRlcicpO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IGJ0blVwbG9hZC5maW5kKCcuZXJyb3InKTtcblxuICAgICAgICAgICAgICAgIGlmIChidG5VcGxvYWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBBamF4VXBsb2FkKGJ0blVwbG9hZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnL3VwbG9hZC9maWxlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAndXBsb2FkZmlsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBvblN1Ym1pdDogZnVuY3Rpb24gKGZpbGUsIGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnRleHQoJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGV4dCAmJiAvXihqcGd8cG5nfGpwZWd8Z2lmKSQvLnRlc3QoZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IudGV4dCgn0J/QvtC00LTQtdGA0LbQuNCy0LDQtdC80YvQtSDRhNC+0YDQvNCw0YLRizoganBnLCBwbmcsIGdpZi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXBsb2FkZXIuZmluZCgnLml0ZW0nKS5sZW5ndGggPj0gMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IudGV4dCgn0J/RgNC10LLRi9GI0LXQvdC+INC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQutC+0LvQu9C40YfQtdGB0YLQstC+INGE0LDQudC70L7Qsi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkZXIucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKGZpbGUsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSAnJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBzcmM9XCInICsgcmVzcG9uc2UgKyAnXCIgZGF0YS1saW5rPVwiJyArIHJlc3BvbnNlICsgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIDxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBjbGFzcz1cImNyb3NzXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx1c2UgeGxpbms6aHJlZj1cIiNjcm9zc19mZjQ5MWZcIj48L3VzZT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvc3ZnPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9hPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlci5maW5kKCcuaXRlbXMnKS5hcHBlbmQoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVyLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvcm1zLnVwZGF0ZVVwbG9hZEZpbGVzKHVwbG9hZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3Jtcy5kZWxldGVVcGxvYWRGaWxlcyh1cGxvYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBGb3Jtcy5kZWxldGVVcGxvYWRGaWxlcyh1cGxvYWRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ3VwZGF0ZVVwbG9hZEZpbGVzJzogZnVuY3Rpb24gKGl0ZW0pIHtcblxuICAgICAgICAgICAgdmFyIGxpbmtzID0gW107XG4gICAgICAgICAgICBpdGVtLmZpbmQoJy5pdGVtJykuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIGxpbmtzLnB1c2goaXRlbS5maW5kKCcuaXRlbSBpbWcnKS5lcShpKS5kYXRhKCdsaW5rJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdGVtLmZpbmQoJy5pbnBfaW1nJykudmFsKGxpbmtzLmpvaW4oJywnKSk7XG4gICAgICAgICAgICBpZiAoaXRlbS5maW5kKCcuaXRlbScpLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5maW5kKCcuZmlsZW5hbWUnKS50ZXh0KCfQpNCw0LnQu9GLINC90LUg0LLRi9Cx0YDQsNC90YsnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbS5maW5kKCcuZmlsZW5hbWUnKS50ZXh0KCfQktGL0LHRgNCw0L3QviDRhNCw0LnQu9C+0LI6ICcgKyBpdGVtLmZpbmQoJy5pdGVtJykubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAnZGVsZXRlVXBsb2FkRmlsZXMnOiBmdW5jdGlvbiAoaXRlbSkge1xuXG4gICAgICAgICAgICBpdGVtLmZpbmQoJy5jcm9zcycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBGb3Jtcy51cGRhdGVVcGxvYWRGaWxlcyhpdGVtKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ2FkbWluQ2hvc2VuJzogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgYmFzZSA9IFtdO1xuICAgICAgICAgICAgdmFyIGFyZWEgPSBbXTtcbiAgICAgICAgICAgIHZhciBkcm9wQXJlYSA9IFtdO1xuICAgICAgICAgICAgdmFyIGRyb3BJdGVtID0gW107XG4gICAgICAgICAgICB2YXIgaW5wdXQgPSBbXTtcbiAgICAgICAgICAgICQoJy5hZG1pbi1jaG9zZW4nKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xuICAgICAgICAgICAgICAgIGJhc2VbaW5kZXhdID0gJChpdGVtKTtcbiAgICAgICAgICAgICAgICBhcmVhW2luZGV4XSA9IGJhc2VbaW5kZXhdLmZpbmQoJy5hZG1pbi1jaG9zZW5fX2FyZWEnKTtcbiAgICAgICAgICAgICAgICBkcm9wQXJlYVtpbmRleF0gPSBiYXNlW2luZGV4XS5maW5kKCcuYWRtaW4tY2hvc2VuX19kcm9wJyk7XG4gICAgICAgICAgICAgICAgZHJvcEl0ZW1baW5kZXhdID0gYmFzZVtpbmRleF0uZmluZCgnLmFkbWluLWNob3Nlbl9fZHJvcC0taXRlbScpO1xuICAgICAgICAgICAgICAgIGlucHV0W2luZGV4XSA9IGJhc2VbaW5kZXhdLmZpbmQoJy5hZG1pbi1jaG9zZW5fX2lucHV0Jyk7XG5cbiAgICAgICAgICAgICAgICBhcmVhW2luZGV4XS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoaWRkZW5JdGVtcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGRyb3BJdGVtW2luZGV4XS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJvcEl0ZW1baW5kZXhdLmVxKGkpLmhhc0NsYXNzKCdoaWRkZW4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlbkl0ZW1zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGlkZGVuSXRlbXMgIT0gZHJvcEl0ZW1baW5kZXhdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcEFyZWFbaW5kZXhdLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNsb3NlSGFuZGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2xvc2VOb2RlID0gYmFzZVtpbmRleF0uZmluZCgnLmNsb3NlJyk7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlTm9kZS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVUZXh0ID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCdzcGFuJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcEl0ZW1baW5kZXhdLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJvcEl0ZW1baW5kZXhdLmVxKGkpLnRleHQoKSA9PSBub2RlVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wSXRlbVtpbmRleF0uZXEoaSkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2hvc2VuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2xvc2VIYW5kbGUoKTtcblxuICAgICAgICAgICAgICAgIHZhciB1cGRhdGVDaG9zZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaG9zZW5JdGVtcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBkcm9wSXRlbVtpbmRleF0uZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyb3BJdGVtW2luZGV4XS5lcShpKS5oYXNDbGFzcygnaGlkZGVuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9zZW5JdGVtcy5wdXNoKGRyb3BJdGVtW2luZGV4XS5lcShpKS5kYXRhKCdpZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0W2luZGV4XS52YWwoY2hvc2VuSXRlbXMuam9pbignLCcpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHVwZGF0ZUNob3NlbigpO1xuXG4gICAgICAgICAgICAgICAgZHJvcEl0ZW1baW5kZXhdLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1UZXh0ID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtTm9kZSA9ICcnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8bGkgY2xhc3M9XCJhZG1pbi1jaG9zZW5fX2FyZWEtLWl0ZW1cIj4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4+JyArIGl0ZW1UZXh0ICsgJzwvc3Bhbj4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiIGNsYXNzPVwiY2xvc2VcIj48L2E+ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzwvbGk+JztcbiAgICAgICAgICAgICAgICAgICAgYXJlYVtpbmRleF0uYXBwZW5kKGl0ZW1Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgZHJvcEFyZWFbaW5kZXhdLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlSGFuZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNob3NlbigpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnLmFkbWluLWNob3Nlbl9fZHJvcCcpLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJy5hZG1pbi1jaG9zZW5fX2FyZWEnKS5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgZHJvcEFyZWFbaW5kZXhdLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgfTtcbiAgICBGb3Jtcy5maWxlVXBsb2FkZXIoKTtcbiAgICBGb3Jtcy51cGxvYWRlcigpO1xuICAgIEZvcm1zLmFqYXhVcGxvYWRlcigpO1xuICAgIEZvcm1zLmFqYXhVcGxvYWRTaW5nbGVJbWFnZSgpO1xuICAgIEZvcm1zLmFkbWluQ2hvc2VuKCk7XG5cbiAgICAkKCcuYWRtaW4tcGFuZWxfX2xlZnQtc2lkZS0tbWVudSAubWVudS1pdGVtJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQodGhpcykubmV4dCgndWwuc3ViJykuc2xpZGVUb2dnbGUoJ2Zhc3QnKTtcbiAgICB9KTtcblxuICAgICQoJy5hZG1pbi1wYW5lbF9fbGVmdC1zaWRlLS1tZW51IC5tZW51LWl0ZW0tc3ViJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgJCgnLmFkbWluLXBhbmVsX19sZWZ0LXNpZGUtLW1lbnUgLm1lbnUtaXRlbS1zdWInKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgdmFyIFZhbGlkYXRvciA9IHt9O1xuICAgIFZhbGlkYXRvci5vbmx5UnVzc2lhbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciByZWdleCA9IC9eW9CQLdCvfNGRfCBdKyQvaTtcbiAgICAgICAgaWYgKGRhdGEuc2VhcmNoKHJlZ2V4KSAhPSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVmFsaWRhdG9yLmlzRW1wdHkgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoaXNOYU4oZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnRyaW0oKSA9PSAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YSA9PSAwO1xuXG4gICAgfVxuXG4gICAgJCgnLmlucF9zZWxlY3QnKS5jaGFuZ2UoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgJCh0aGlzKS5wcmV2KCdzcGFuJykudGV4dCgkKHRoaXMpLmZpbmQoJ29wdGlvbjpzZWxlY3RlZCcpLnRleHQoKSk7XG4gICAgfSk7XG5cbiAgICAkKCcuYWRtaW4tcGFuZWxfX2NoZWNrZXIgaW5wdXQnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAkKHRoaXMpLnBhcmVudChcInNwYW5cIikudG9nZ2xlQ2xhc3MoJ2NoZWNrZWQnKTtcbiAgICB9KTtcblxuICAgICQoJy5pbnBfcGx1cycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICQodGhpcykucGFyZW50KCkubmV4dCgpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgfSlcblxuICAgIGZ1bmN0aW9uIHNhdmVTdGF0dXNlcygpIHtcbiAgICAgICAgdmFyIHN0YXR1c2VzID0gJyc7XG4gICAgICAgICQoJy5kdWFsX3NlbGVjdHNfX3NlY29uZCBvcHRpb24nKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICBzdGF0dXNlcyArPSAkKCcuZHVhbF9zZWxlY3RzX19zZWNvbmQgb3B0aW9uJykuZXEoaSkudmFsKCkgKyAnLCc7XG4gICAgICAgIH0pO1xuICAgICAgICAkKCcjdGVjaFN0YXR1c2VzJykudmFsKHN0YXR1c2VzKTtcbiAgICB9XG5cbiAgICAkKCcuZHVhbF9zZWxlY3RzX19zdG9mJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gJCgnLmR1YWxfc2VsZWN0c19fc2Vjb25kIG9wdGlvbjpzZWxlY3RlZCcpO1xuICAgICAgICAkKCcuZHVhbF9zZWxlY3RzX19maXJzdCcpLmFwcGVuZChzZWxlY3RlZCk7XG5cbiAgICAgICAgc2F2ZVN0YXR1c2VzKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgICQoJy5kdWFsX3NlbGVjdHNfX2FsbHRvZicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICQoJy5kdWFsX3NlbGVjdHNfX3NlY29uZCBvcHRpb24nKTtcbiAgICAgICAgc2VsZWN0ZWQuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgJCgnLmR1YWxfc2VsZWN0c19fZmlyc3QnKS5hcHBlbmQoc2VsZWN0ZWRbaV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBzYXZlU3RhdHVzZXMoKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgJCgnLmR1YWxfc2VsZWN0c19fZnRvcycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICQoJy5kdWFsX3NlbGVjdHNfX2ZpcnN0IG9wdGlvbjpzZWxlY3RlZCcpO1xuICAgICAgICAkKCcuZHVhbF9zZWxlY3RzX19zZWNvbmQnKS5hcHBlbmQoc2VsZWN0ZWQpO1xuXG4gICAgICAgIHNhdmVTdGF0dXNlcygpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKCcuZHVhbF9zZWxlY3RzX19hbGx0b3MnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSAkKCcuZHVhbF9zZWxlY3RzX19maXJzdCBvcHRpb24nKTtcbiAgICAgICAgc2VsZWN0ZWQuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgJCgnLmR1YWxfc2VsZWN0c19fc2Vjb25kJykuYXBwZW5kKHNlbGVjdGVkW2ldKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2F2ZVN0YXR1c2VzKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgICQoJy5mb3JtTmV4dEJ0bicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBibG9ja0Zvcm0gPSAkKCcuYmxvY2tGb3JtJyk7XG4gICAgICAgIHZhciBwb3MgPSAkKHRoaXMpLmRhdGEoJ3BvcycpO1xuICAgICAgICB2YXIgd2lkZ2V0ID0gJChibG9ja0Zvcm0pLmZpbmQoJy5hZG1pbi1wYW5lbF9fd2lkZ2V0JykuZXEocGFyc2VJbnQocG9zKSk7XG4gICAgICAgIHZhciBlcnJvciA9IFtdO1xuXG4gICAgICAgICQod2lkZ2V0KS5maW5kKCcuZmllbGRGb3JWYWxpZGF0ZScpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBmaWVsZCA9ICh3aWRnZXQpLmZpbmQoJy5maWVsZEZvclZhbGlkYXRlJykuZXEoaSk7XG4gICAgICAgICAgICB2YXIgZmllbGRfbmFtZSA9ICQod2lkZ2V0KS5maW5kKCcuZmllbGRGb3JWYWxpZGF0ZScpLmVxKGkpLnRleHQoKTtcbiAgICAgICAgICAgIHZhciBmaWVsZF92YWxpZF90eXBlID0gJCh3aWRnZXQpLmZpbmQoJy5maWVsZEZvclZhbGlkYXRlJykuZXEoaSkuZGF0YSgndHlwZScpO1xuICAgICAgICAgICAgdmFyIGZpZWxkX2lucHV0ID0gJCh3aWRnZXQpLmZpbmQoJy5maWVsZEZvclZhbGlkYXRlJykuZXEoaSkucGFyZW50KCkubmV4dCgnLndpZGdldC1yb3dfX3JpZ2h0JykuZmluZCgnaW5wdXQnKS52YWwoKTtcbiAgICAgICAgICAgIHZhciBmaWVsZF9zZWxlY3QgPSBwYXJzZUludCgkKHdpZGdldCkuZmluZCgnLmZpZWxkRm9yVmFsaWRhdGUnKS5lcShpKS5wYXJlbnQoKS5uZXh0KCcud2lkZ2V0LXJvd19fcmlnaHQnKS5maW5kKCdzZWxlY3QnKS52YWwoKSk7XG4gICAgICAgICAgICB2YXIgZmllbGRfdmFsdWUgPSBmaWVsZF9pbnB1dCB8fCBmaWVsZF9zZWxlY3QgfHwgJyc7XG4gICAgICAgICAgICBpZiAoVmFsaWRhdG9yLmlzRW1wdHkoZmllbGRfdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQoZmllbGQpLmRhdGEoJ3JlcXVpcmUnKSA9PSAncmVxdWlyZScpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IucHVzaChcItCd0LXQvtCx0YXQvtC00LjQvNC+INC30LDQv9C+0LvQvdC40YLRjCDQv9C+0LvQtSAnXCIgKyBmaWVsZF9uYW1lICsgXCInLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgJCh3aWRnZXQpLmZpbmQoJy5yZXF1aXJlZCcpLmVxKGkpLnBhcmVudCgpLm5leHQoJy53aWRnZXQtcm93X19yaWdodCcpLmZpbmQoJ2lucHV0JykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGRfdmFsaWRfdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdvbmx5X3J1cyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghVmFsaWRhdG9yLm9ubHlSdXNzaWFuKGZpZWxkX3ZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnB1c2goXCLQn9C+0LvQtSAnXCIgKyBmaWVsZF9uYW1lICsgXCInINC80L7QttC10YIg0YHQvtGB0YLQvtGP0YLRjCDRgtC+0LvRjNC60L4g0LjQtyDRgNGD0YHRgdC60LjRhSDRgdC40LzQstC+0LvQvtCyLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgYmxvY2tFcnJvciA9ICQoJyNibG9ja0Vycm9ycycpO1xuICAgICAgICAkKGJsb2NrRXJyb3IpLmh0bWwoJycpO1xuICAgICAgICBpZiAoZXJyb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlcnJvci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvckJsb2NrID1cbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJhZG1pbi1wYW5lbF9fbm90ZXMgd2FybmluZ1wiIGlkPVwiYWRkVGVjaEVycm9yXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICc8cD4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxzdHJvbmc+0JLQvdC40LzQsNC90LjQtTo8L3N0cm9uZz4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZGVzY3JcIj4nICsgZXJyb3JbaV0gKyAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9wPicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICB2YXIgb2xkX2h0bWwgPSAkKGJsb2NrRXJyb3IpLmh0bWwoKTtcbiAgICAgICAgICAgICAgICAkKGJsb2NrRXJyb3IpLmh0bWwob2xkX2h0bWwgKyBlcnJvckJsb2NrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKHBvcyA9PSAkKCcuZm9ybU5leHRCdG4udG9wJykubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICQoJy5mb3JtTmV4dEJ0bi50b3AnKS5lcShwb3MpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKGJsb2NrRm9ybSkuZmluZCgnLmFkbWluLXBhbmVsX193aWRnZXQnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgJChibG9ja0Zvcm0pLmZpbmQoJy5hZG1pbi1wYW5lbF9fd2lkZ2V0JykuZXEocG9zICsgMSkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICQoJy5mb3JtTmV4dEJ0bi50b3AnKS5wYXJlbnQoKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgJCgnLmZvcm1OZXh0QnRuLnRvcCcpLmVxKHBvcyArIDEpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBvcyA9PSAkKCcuZm9ybU5leHRCdG4uYm90dG9tJykubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICQoJy5mb3JtTmV4dEJ0bi5ib3R0b20nKS5lcShwb3MpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKGJsb2NrRm9ybSkuZmluZCgnLmFkbWluLXBhbmVsX193aWRnZXQnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgJChibG9ja0Zvcm0pLmZpbmQoJy5hZG1pbi1wYW5lbF9fd2lkZ2V0JykuZXEocG9zICsgMSkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICQoJy5mb3JtTmV4dEJ0bi5ib3R0b20nKS5wYXJlbnQoKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgJCgnLmZvcm1OZXh0QnRuLmJvdHRvbScpLmVxKHBvcyArIDEpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLmZvcm1CYWNrQnRuJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICB2YXIgcG9zID0gJCh0aGlzKS5kYXRhKCdwb3MnKTtcblxuICAgICAgICB2YXIgYmxvY2tGb3JtID0gJCgnLmJsb2NrRm9ybScpO1xuICAgICAgICAkKGJsb2NrRm9ybSkuZmluZCgnLmFkbWluLXBhbmVsX193aWRnZXQnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICQoYmxvY2tGb3JtKS5maW5kKCcuYWRtaW4tcGFuZWxfX3dpZGdldCcpLmVxKHBvcyAtIDEpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgJCgnLmZvcm1OZXh0QnRuLnRvcCcpLnBhcmVudCgpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgJCgnLmZvcm1OZXh0QnRuLnRvcCcpLmVxKHBvcyAtIDEpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgJCgnLmZvcm1OZXh0QnRuLmJvdHRvbScpLnBhcmVudCgpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgJCgnLmZvcm1OZXh0QnRuLmJvdHRvbScpLmVxKHBvcyAtIDEpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIH0pO1xuXG4gICAgdmFyIGNsaWVudEluZm8gPSAkKCcjY2xpZW50SW5mbycpO1xuICAgIHZhciB0ZWNoSW5mbyA9ICQoJyN0ZWNoSW5mbycpO1xuICAgIHZhciBzdGF0dXNlc0luZm8gPSAkKCcjc3RhdHVzZXNJbmZvJyk7XG5cbiAgICAkKCcjYWRkVGVjaE5leHRDbGllbnRCdG4nKS5jbGljayhmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgIHZhciBlcnJvciA9IFtdO1xuXG4gICAgICAgIHZhciBjbGllbnRMYXN0TmFtZSA9ICQoJyNjbGllbnRMYXN0TmFtZScpLnZhbCgpO1xuICAgICAgICB2YXIgY2xpZW50Rmlyc3ROYW1lID0gJCgnI2NsaWVudEZpcnN0TmFtZScpLnZhbCgpO1xuICAgICAgICB2YXIgY2xpZW50RmF0aGVyTmFtZSA9ICQoJyNjbGllbnRGYXRoZXJOYW1lJykudmFsKCk7XG4gICAgICAgIHZhciBjbGllbnRQaG9uZU51bWJlciA9ICQoJyNjbGllbnRQaG9uZU51bWJlcicpLnZhbCgpO1xuICAgICAgICB2YXIgY2xpZW50Q2l0eSA9ICQoJyNjbGllbnRDaXR5JykudmFsKCk7XG4gICAgICAgIHZhciBjbGllbnRTdHJlZXQgPSAkKCcjY2xpZW50U3RyZWV0JykudmFsKCk7XG4gICAgICAgIHZhciBjbGllbnRIb3VzZU51bWJlciA9ICQoJyNjbGllbnRIb3VzZU51bWJlcicpLnZhbCgpO1xuICAgICAgICB2YXIgY2xpZW50RmxhdE51bWJlciA9ICQoJyNjbGllbnRGbGF0TnVtYmVyJykudmFsKCk7XG5cbiAgICAgICAgaWYgKGNsaWVudExhc3ROYW1lID09ICcnKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFwi0J3QtdC+0LHRhdC+0LTQuNC80L4g0LfQsNC/0L7Qu9C90LjRgtGMINC/0L7Qu9C1ICfQpNCw0LzQuNC70LjRjycuXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKCFWYWxpZGF0b3Iub25seVJ1c3NpYW4oY2xpZW50TGFzdE5hbWUpKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFwi0KTQsNC80LjQu9C40Y8g0LzQvtC20LXRgiDRgdC+0YHRgtC+0Y/RgtGMINGC0L7Qu9GM0LrQviDQuNC3INGA0YPRgdGB0LrQuNGFINGB0LjQvNCy0L7Qu9C+0LIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGllbnRGaXJzdE5hbWUgPT0gJycpIHtcbiAgICAgICAgICAgIGVycm9yLnB1c2goXCLQndC10L7QsdGF0L7QtNC40LzQviDQt9Cw0L/QvtC70L3QuNGC0Ywg0L/QvtC70LUgJ9CY0LzRjycuXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKCFWYWxpZGF0b3Iub25seVJ1c3NpYW4oY2xpZW50Rmlyc3ROYW1lKSkge1xuICAgICAgICAgICAgZXJyb3IucHVzaChcItCY0LzRjyDQvNC+0LbQtdGCINGB0L7RgdGC0L7Rj9GC0Ywg0YLQvtC70YzQutC+INC40Lcg0YDRg9GB0YHQutC40YUg0YHQuNC80LLQvtC70L7Qsi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsaWVudEZhdGhlck5hbWUgPT0gJycpIHtcbiAgICAgICAgICAgIGVycm9yLnB1c2goXCLQndC10L7QsdGF0L7QtNC40LzQviDQt9Cw0L/QvtC70L3QuNGC0Ywg0L/QvtC70LUgJ9Ce0YLRh9C10YHRgtCy0L4nLlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICghVmFsaWRhdG9yLm9ubHlSdXNzaWFuKGNsaWVudEZhdGhlck5hbWUpKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFwi0J7RgtGH0LXRgdGC0LLQviDQvNC+0LbQtdGCINGB0L7RgdGC0L7Rj9GC0Ywg0YLQvtC70YzQutC+INC40Lcg0YDRg9GB0YHQutC40YUg0YHQuNC80LLQvtC70L7Qsi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsaWVudFBob25lTnVtYmVyID09ICcnKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFwi0J3QtdC+0LHRhdC+0LTQuNC80L4g0LfQsNC/0L7Qu9C90LjRgtGMINC/0L7Qu9C1ICfQndC+0LzQtdGAINGC0LXQu9C10YTQvtC90LAnLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xpZW50Q2l0eSAhPSAnJyAmJiAhVmFsaWRhdG9yLm9ubHlSdXNzaWFuKGNsaWVudENpdHkpKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFwi0J3QsNC30LLQsNC90LjQtSDQs9C+0YDQvtC00LAg0LzQvtC20LXRgiDRgdC+0YHRgtC+0Y/RgtGMINGC0L7Qu9GM0LrQviDQuNC3INGA0YPRgdGB0LrQuNGFINGB0LjQvNCy0L7Qu9C+0LIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGllbnRTdHJlZXQgIT0gJycgJiYgIVZhbGlkYXRvci5vbmx5UnVzc2lhbihjbGllbnRTdHJlZXQpKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFwi0J3QsNC30LLQsNC90LjQtSDRg9C70LjRhtGLINC80L7QttC10YIg0YHQvtGB0YLQvtGP0YLRjCDRgtC+0LvRjNC60L4g0LjQtyDRgNGD0YHRgdC60LjRhSDRgdC40LzQstC+0LvQvtCyLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJyNhZGRUZWNoRXJyb3InKS5odG1sKCcnKTtcbiAgICAgICAgaWYgKGVycm9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JCbG9jayA9XG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYWRtaW4tcGFuZWxfX25vdGVzIHdhcm5pbmdcIiBpZD1cImFkZFRlY2hFcnJvclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAnPHA+JyArXG4gICAgICAgICAgICAgICAgICAgICc8c3Ryb25nPtCS0L3QuNC80LDQvdC40LU6PC9zdHJvbmc+JyArXG4gICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cImRlc2NyXCI+JyArIGVycm9yW2ldICsgJzwvc3Bhbj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvcD4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgdmFyIG9sZF9odG1sID0gJCgnI2FkZFRlY2hFcnJvcicpLmh0bWwoKTtcbiAgICAgICAgICAgICAgICAkKCcjYWRkVGVjaEVycm9yJykuaHRtbChvbGRfaHRtbCArIGVycm9yQmxvY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xpZW50SW5mby5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICB0ZWNoSW5mby5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKCcjYWRkVGVjaE5leHRUZWNoQnRuJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICB2YXIgZXJyb3IgPSBbXTtcblxuICAgICAgICB2YXIgdGVjaENhdGVnb3J5ID0gJCgnI3RlY2hDYXRlZ29yeScpLnZhbCgpO1xuICAgICAgICB2YXIgdGVjaENhdGVnb3J5TmV3ID0gJCgnI3RlY2hDYXRlZ29yeU5ldycpLnZhbCgpO1xuICAgICAgICB2YXIgdGVjaEJyYW5kID0gJCgnI3RlY2hCcmFuZCcpLnZhbCgpO1xuICAgICAgICB2YXIgdGVjaEJyYW5kTmV3ID0gJCgnI3RlY2hCcmFuZE5ldycpLnZhbCgpO1xuICAgICAgICB2YXIgdGVjaFRpdGxlID0gJCgnI3RlY2hUaXRsZScpLnZhbCgpO1xuICAgICAgICB2YXIgdGVjaFdvcmtlciA9ICQoJyN0ZWNoV29ya2VyJykudmFsKCk7XG5cbiAgICAgICAgaWYgKHRlY2hDYXRlZ29yeSA9PSAwICYmIHRlY2hDYXRlZ29yeU5ldyA9PSAnJykge1xuICAgICAgICAgICAgZXJyb3IucHVzaChcItCd0LXQvtCx0YXQvtC00LjQvNC+INCy0YvQsdGA0LDRgtGMINC60LDRgtC10LPQvtGA0LjRjiDQuNC3INC/0L7Qu9GPICfQmtCw0YLQtdCz0L7RgNC40Y8nLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGVjaEJyYW5kID09IDAgJiYgdGVjaEJyYW5kTmV3ID09ICcnKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFwi0J3QtdC+0LHRhdC+0LTQuNC80L4g0LLRi9Cx0YDQsNGC0Ywg0LHRgNC10L3QtCDQuNC3INC/0L7Qu9GPICfQkdGA0LXQvdC0Jy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRlY2hUaXRsZSA9PSAnJykge1xuICAgICAgICAgICAgZXJyb3IucHVzaChcItCd0LXQvtCx0YXQvtC00LjQvNC+INC30LDQv9C+0LvQvdC40YLRjCDQv9C+0LvQtSAn0J3QsNC30LLQsNC90LjQtScuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZWNoV29ya2VyID09ICcnKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFwi0J3QtdC+0LHRhdC+0LTQuNC80L4g0LLRi9Cx0YDQsNGC0Ywg0L/RgNC40L3QuNC80LDRjtGJ0LXQs9C+INC40Lcg0L/QvtC70Y8gJ9Cf0YDQuNC90Y/QuyDQsiDRgNC10LzQvtC90YInLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJyNhZGRUZWNoRXJyb3InKS5odG1sKCcnKTtcbiAgICAgICAgaWYgKGVycm9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JCbG9jayA9XG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYWRtaW4tcGFuZWxfX25vdGVzIHdhcm5pbmdcIiBpZD1cImFkZFRlY2hFcnJvclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAnPHA+JyArXG4gICAgICAgICAgICAgICAgICAgICc8c3Ryb25nPtCS0L3QuNC80LDQvdC40LU6PC9zdHJvbmc+JyArXG4gICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cImRlc2NyXCI+JyArIGVycm9yW2ldICsgJzwvc3Bhbj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvcD4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgdmFyIG9sZF9odG1sID0gJCgnI2FkZFRlY2hFcnJvcicpLmh0bWwoKTtcbiAgICAgICAgICAgICAgICAkKCcjYWRkVGVjaEVycm9yJykuaHRtbChvbGRfaHRtbCArIGVycm9yQmxvY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGVjaEluZm8uYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgc3RhdHVzZXNJbmZvLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHNhdmVTdGF0dXNlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgJCgnI2FkZFRlY2hQcmV2VGVjaEJ0bicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgdGVjaEluZm8uYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICBjbGllbnRJbmZvLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKCcjYWRkVGVjaFByZXZTdGF0dXNCdG4nKS5jbGljayhmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgIHN0YXR1c2VzSW5mby5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIHRlY2hJbmZvLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKCcubWFpbkNoZWNrZXIgaW5wdXQnKS5jaGFuZ2UoZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICBpZiAoJCh0aGlzKS5wYXJlbnQoJ3NwYW4nKS5oYXNDbGFzcygnY2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAkKCcuc3ViQ2hlY2tlcicpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAkKCcuc3ViQ2hlY2tlcicpLmVxKGkpLmFkZENsYXNzKCdjaGVja2VkJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5zdWJDaGVja2VyJykuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICQoJy5zdWJDaGVja2VyJykuZXEoaSkucmVtb3ZlQ2xhc3MoJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcuc3ViQ2hlY2tlciBpbnB1dCcpLmNoYW5nZShmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgIGlmICgkKCcuc3ViQ2hlY2tlci5jaGVja2VkJykubGVuZ3RoID09ICQoJy5zdWJDaGVja2VyJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAkKCcubWFpbkNoZWNrZXInKS5hZGRDbGFzcygnY2hlY2tlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLm1haW5DaGVja2VyJykucmVtb3ZlQ2xhc3MoJ2NoZWNrZWQnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLkRCRGVsZXRlQnRuJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICB2YXIgZGVsZXRlSXRlbXMgPSAnJztcbiAgICAgICAgJCgnLnN1YkNoZWNrZXIuY2hlY2tlZCcpLmVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRlbGV0ZUl0ZW1zICs9ICcsJyArICQodGhpcykuZGF0YSgnaWQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChkZWxldGVJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGRlbGV0ZUl0ZW1zID0gZGVsZXRlSXRlbXMuc2xpY2UoMSk7XG4gICAgICAgIH1cblxuICAgICAgICAkKCcjZGVsZXRlSXRlbXMnKS52YWwoZGVsZXRlSXRlbXMpO1xuICAgIH0pO1xuXG5cbiAgICAvLyBjbG9zZSBwb3BVcFxuICAgICQoJyNwb3B1cE5vJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcG9wdXAuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgIH0pO1xuXG4gICAgJCgnLkRCRGVsZXRlQnRuJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICB2YXIgZGVsZXRlSXRlbXNDb3VudCA9ICQoJy5zdWJDaGVja2VyLmNoZWNrZWQnKS5sZW5ndGg7XG4gICAgICAgIGlmIChkZWxldGVJdGVtc0NvdW50ID4gMCkge1xuXG4gICAgICAgICAgICB2YXIgcG9wdXBUaXRsZSA9ICfQo9C00LDQu9C10L3QuNC1INGN0LvQtdC80LXQvdGC0LAnO1xuICAgICAgICAgICAgdmFyIHBvcHVwQ29udGVudCA9ICfQktGLINGD0LLQtdGA0LXQvdGLLCDRh9GC0L4g0YXQvtGC0LjRgtC1INGD0LTQsNC70LjRgtGMINGN0LvQtdC80LXQvdGC0Ysg0LjQtyDRgdC/0LjRgdC60LA/ICgnICsgZGVsZXRlSXRlbXNDb3VudCArICfRiNGCLiknO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSAnZGVsZXRlJztcbiAgICAgICAgICAgIHZhciBsaW5rID0gJCh0aGlzKS5kYXRhKCdhY3Rpb24nKTtcbiAgICAgICAgICAgIHNob3dQb3B1cChwb3B1cFRpdGxlLCBwb3B1cENvbnRlbnQsIHR5cGUsIGxpbmspO1xuICAgICAgICAgICAgc2hvd0Vycm9yKCcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9ICfQktGL0LHQtdGA0LjRgtC1INGF0L7RgtGPINCx0Ysg0L7QtNC40L0g0Y3Qu9C10LzQtdC90YIg0LTQu9GPINGD0LTQsNC70LXQvdC40Y8uJztcbiAgICAgICAgICAgIHNob3dFcnJvcihlcnJvcik7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgJCgnLkRCQWRkQnRuJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICB2YXIgcG9wdXBUaXRsZSA9ICfQlNC+0LHQsNCy0LvQtdC90LjQtSDRjdC70LXQvNC10L3RgtCwJztcbiAgICAgICAgdmFyIHBvcHVwQ29udGVudCA9ICfQo9C60LDQttC40YLQtSwg0L3QsNC30LLQsNC90LjQtSDQvdC+0LLQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsC4nO1xuICAgICAgICB2YXIgdHlwZSA9ICdjcmVhdGUnO1xuICAgICAgICB2YXIgbGluayA9ICQodGhpcykuZGF0YSgnYWN0aW9uJyk7XG4gICAgICAgIHZhciB0eXBlcyA9ICQodGhpcykuZGF0YSgndHlwZXMnKTtcbiAgICAgICAgc2hvd1BvcHVwKHBvcHVwVGl0bGUsIHBvcHVwQ29udGVudCwgdHlwZSwgbGluaywgdHlwZXMpO1xuICAgIH0pO1xuXG4gICAgJCgnLkRCRWRpdEJ0bicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgdmFyIHBvcHVwVGl0bGUgPSAn0JjQt9C80LXQvdC10L3QuNC1INGN0LvQtdC80LXQvdGC0LAnO1xuICAgICAgICB2YXIgcG9wdXBDb250ZW50ID0gJ9Cj0LrQsNC20LjRgtC1LCDQvdC+0LLQvtC1INC90LDQt9Cy0LDQvdC40LUg0Y3Qu9C10LzQtdC90YLQsC4nO1xuICAgICAgICB2YXIgdHlwZSA9ICdlZGl0JztcbiAgICAgICAgdmFyIHRleHQgPSAkKHRoaXMpLnByZXYoJ3NwYW4nKS50ZXh0KCk7XG4gICAgICAgICQoJyNlZGl0SXRlbU5hbWUnKS52YWwodGV4dCk7XG4gICAgICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcbiAgICAgICAgdmFyIGxpbmsgPSAkKCcuREJFZGl0QnRuSW5saW5lJykuZGF0YSgnYWN0aW9uJyk7XG4gICAgICAgIHZhciB0eXBlcyA9ICQodGhpcykuZGF0YSgndHlwZXMnKTtcbiAgICAgICAgJCgnI2VkaXRJdGVtSWQnKS52YWwoaWQpO1xuICAgICAgICBzaG93UG9wdXAocG9wdXBUaXRsZSwgcG9wdXBDb250ZW50LCB0eXBlLCBsaW5rLCB0eXBlcyk7XG4gICAgfSk7XG5cbiAgICAkKCcucG9wVXBfX2NoYW5nZVN0YXR1cycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgdmFyIHBvcHVwVGl0bGUgPSAn0JjQt9C80LXQvdC10L3QuNC1INGN0LvQtdC80LXQvdGC0LAnO1xuICAgICAgICB2YXIgcG9wdXBDb250ZW50ID0gJ9CS0YvQsdC10YDQuNGC0LUg0L3QvtCy0L7QtSDQt9C90LDRh9C10L3QuNC1INGN0LvQtdC80LXQvdGC0LAuJztcbiAgICAgICAgdmFyIHR5cGUgPSAnc2VsZWN0JztcbiAgICAgICAgdmFyIGxpbmsgPSAkKHRoaXMpLmRhdGEoJ2FjdGlvbicpO1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICQodGhpcykuZGF0YSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgJCgnI3NlbGVjdEl0ZW1JZCcpLnZhbChpZCk7XG4gICAgICAgIHZhciB0eXBlcyA9ICQodGhpcykuZGF0YSgndHlwZXMnKTtcbiAgICAgICAgc2hvd1BvcHVwKHBvcHVwVGl0bGUsIHBvcHVwQ29udGVudCwgdHlwZSwgbGluaywgdHlwZXMsIHNlbGVjdGVkKTtcbiAgICB9KTtcblxuICAgIHZhciBwb3B1cCA9ICQoJy5hZG1pbi1wYW5lbF9fcG9wdXAuZGF0YWJhc2UnKTtcblxuICAgIGZ1bmN0aW9uIHNob3dQb3B1cCh0aXRsZSwgY29udGVudCwgdHlwZSwgbGluaywgdHlwZXMsIHNlbGVjdGVkKSB7XG5cbiAgICAgICAgJChwb3B1cCkuZmluZCgnLnRpdGxlJykudGV4dCh0aXRsZSk7XG4gICAgICAgICQocG9wdXApLmZpbmQoJy5jb250ZW50IC50ZXh0JykudGV4dChjb250ZW50KTtcblxuICAgICAgICBpZiAodHlwZSA9PSAnY3JlYXRlJykge1xuICAgICAgICAgICAgaWYgKHR5cGVzICE9ICcnKSB7XG4gICAgICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmNyZWF0ZS4nICsgdHlwZXMpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAkKHBvcHVwKS5maW5kKCcuY3JlYXRlJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmNyZWF0ZScpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5jcmVhdGUgZm9ybScpLmF0dHIoJ2FjdGlvbicsIGxpbmspO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmRlbGV0ZScpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5lZGl0JykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLnNlbGVjdCcpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdkZWxldGUnKSB7XG4gICAgICAgICAgICAkKHBvcHVwKS5maW5kKCcuY3JlYXRlJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmRlbGV0ZScpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5kZWxldGUgZm9ybScpLmF0dHIoJ2FjdGlvbicsIGxpbmspO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmVkaXQnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAkKHBvcHVwKS5maW5kKCcuc2VsZWN0JykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2VkaXQnKSB7XG4gICAgICAgICAgICAkKHBvcHVwKS5maW5kKCcuY3JlYXRlJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmRlbGV0ZScpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5lZGl0JykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmVkaXQgZm9ybScpLmF0dHIoJ2FjdGlvbicsIGxpbmspO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLnNlbGVjdCcpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdzZWxlY3QnKSB7XG4gICAgICAgICAgICAkKHBvcHVwKS5maW5kKCcuY3JlYXRlJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmRlbGV0ZScpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5lZGl0JykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLnNlbGVjdCcpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5zZWxlY3QgZm9ybScpLmF0dHIoJ2FjdGlvbicsIGxpbmspO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLnNlbGVjdCBmb3JtIG9wdGlvbicpLmVhY2goZnVuY3Rpb24gKGkpIHtcblxuICAgICAgICAgICAgICAgIGlmICgkKHBvcHVwKS5maW5kKCcuc2VsZWN0IGZvcm0gb3B0aW9uJykuZXEoaSkudmFsKCkgPT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQocG9wdXApLmZpbmQoJy5zZWxlY3QgZm9ybSBvcHRpb24nKS5lcShpKS5hdHRyKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLnNlbGVjdCBmb3JtIC5zZWxlY3RvciBzcGFuJykudGV4dCgkKHBvcHVwKS5maW5kKCcuc2VsZWN0IGZvcm0gb3B0aW9uJykuZXEoaSkudGV4dCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvcHVwLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93RXJyb3IoZXJyb3IpIHtcblxuICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICAkKCcjYWRkRXJyb3InKS5odG1sKCcnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc19hcnJheShlcnJvcikpIHtcblxuICAgICAgICAgICAgaWYgKGVycm9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVycm9yLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlcnJvckJsb2NrID1cbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYWRtaW4tcGFuZWxfX25vdGVzIHdhcm5pbmdcIiBpZD1cImFkZFRlY2hFcnJvclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxwPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxzdHJvbmc+0JLQvdC40LzQsNC90LjQtTo8L3N0cm9uZz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cImRlc2NyXCI+JyArIGVycm9yW2ldICsgJzwvc3Bhbj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L3A+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9sZF9odG1sID0gJCgnI2FkZEVycm9yJykuaHRtbCgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjYWRkRXJyb3InKS5odG1sKG9sZF9odG1sICsgZXJyb3JCbG9jayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGVycm9yQmxvY2sgPVxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYWRtaW4tcGFuZWxfX25vdGVzIHdhcm5pbmdcIj4nICtcbiAgICAgICAgICAgICAgICAnPHA+JyArXG4gICAgICAgICAgICAgICAgJzxzdHJvbmc+0JLQvdC40LzQsNC90LjQtTo8L3N0cm9uZz4nICtcbiAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJkZXNjclwiPicgKyBlcnJvciArICc8L3NwYW4+JyArXG4gICAgICAgICAgICAgICAgJzwvcD4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgICQoJyNhZGRFcnJvcicpLmh0bWwoZXJyb3JCbG9jayk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzX2FycmF5KGEpIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2YgYSA9PSBcIm9iamVjdFwiKSAmJiAoYSBpbnN0YW5jZW9mIEFycmF5KTtcbiAgICB9XG5cbiAgICAkKCd1bC50YWJzIGEnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgIHRhYmxlVGFicyh0aGlzKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHRhYmxlVGFicyhlbCkge1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5wb3MgPSAtMTtcblxuICAgICAgICAkKCd1bC50YWJzIGEnKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzID09IGVsKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5wb3MgPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkKCd1bC50YWJzIGEnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQoZWwpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJCgndGFibGUudGFicyAudGFiJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAkKCd0YWJsZS50YWJzIC50YWInKS5lcShzZWxmLnBvcykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAkKCcuZHluYW1pYy10YWJsZV9fc3RhdHMudGFicyAudGFiJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAkKCcuZHluYW1pYy10YWJsZV9fc3RhdHMudGFicyAudGFiJykuZXEoc2VsZi5wb3MpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICB9XG5cblxuICAgIHZhciBQb3B1cCA9IHtcblxuICAgICAgICBzaG9wUG9wdXBXaXRoRGV0YWlsZWREZXNjcmlwdGlvbjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAkKCcuc2hvcFBvcHVwV2l0aERldGFpbGVkRGVzY3JpcHRpb24nKS5jbGljayhmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICAgICAgJCgnLnNob3BQb3B1cFdpdGhEZXRhaWxlZERlc2NyaXB0aW9uJykubmV4dCgnLmFkZGl0aW9uYWwtaW5mbycpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm5leHQoJy5hZGRpdGlvbmFsLWluZm8nKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG5cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGlmICgkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnLmFkZGl0aW9uYWwtaW5mbycpLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICQoJy5zaG9wUG9wdXBXaXRoRGV0YWlsZWREZXNjcmlwdGlvbicpLm5leHQoJy5hZGRpdGlvbmFsLWluZm8nKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBQb3B1cC5zaG9wUG9wdXBXaXRoRGV0YWlsZWREZXNjcmlwdGlvbigpO1xuXG59KTtcbiJdfQ==
