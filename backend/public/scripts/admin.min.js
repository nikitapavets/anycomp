$("document").ready(function(){function e(){var e="";$(".dual_selects__second option").each(function(t){e+=$(".dual_selects__second option").eq(t).val()+","}),$("#techStatuses").val(e)}function t(e,t,n,a,d,i){$(r).find(".title").text(e),$(r).find(".content .text").text(t),"create"==n?(""!=d&&($(r).find(".create."+d).removeClass("hidden"),$(r).find(".create").addClass("hidden")),$(r).find(".create").removeClass("hidden"),$(r).find(".create form").attr("action",a),$(r).find(".delete").addClass("hidden"),$(r).find(".edit").addClass("hidden"),$(r).find(".select").addClass("hidden")):"delete"==n?($(r).find(".create").addClass("hidden"),$(r).find(".delete").removeClass("hidden"),$(r).find(".delete form").attr("action",a),$(r).find(".edit").addClass("hidden"),$(r).find(".select").addClass("hidden")):"edit"==n?($(r).find(".create").addClass("hidden"),$(r).find(".delete").addClass("hidden"),$(r).find(".edit").removeClass("hidden"),$(r).find(".edit form").attr("action",a),$(r).find(".select").addClass("hidden")):"select"==n&&($(r).find(".create").addClass("hidden"),$(r).find(".delete").addClass("hidden"),$(r).find(".edit").addClass("hidden"),$(r).find(".select").removeClass("hidden"),$(r).find(".select form").attr("action",a),$(r).find(".select form option").each(function(e){$(r).find(".select form option").eq(e).val()==i&&($(r).find(".select form option").eq(e).attr("selected","selected"),$(r).find(".select form .selector span").text($(r).find(".select form option").eq(e).text()))})),r.removeClass("hidden")}function n(e){if(!e)return void $("#addError").html("");if(a(e)){if(e.length>0)for(var t=0;t<e.length;t++){var n='<div class="admin-panel__notes warning" id="addTechError"><p><strong>Внимание:</strong><span class="descr">'+e[t]+"</span></p></div>",d=$("#addError").html();$("#addError").html(d+n)}}else{var n='<div class="admin-panel__notes warning"><p><strong>Внимание:</strong><span class="descr">'+e+"</span></p></div>";$("#addError").html(n)}}function a(e){return"object"==typeof e&&e instanceof Array}function d(e){var t=this;t.pos=-1,$("ul.tabs a").each(function(n){this==e&&(t.pos=n)}),$("ul.tabs a").removeClass("active"),$(e).addClass("active"),$("table.tabs .tab").addClass("hidden"),$("table.tabs .tab").eq(t.pos).removeClass("hidden"),$(".dynamic-table__stats.tabs .tab").addClass("hidden"),$(".dynamic-table__stats.tabs .tab").eq(t.pos).removeClass("hidden")}var i={uploader:function(){$(".uploader input").focus(function(e){$(".upload-files").removeClass("hidden")}),$(".uploader input").on("change",function(e,t,n){var a=this.value.replace(/\\/g,"/").replace(/.*\//,"");$(this).next(".filename").text(a)})},fileUploader:function(){$(document).click(function(e){$(e.target).closest(".upload-files__area").length||$(e.target).closest("input").length||$(e.target).closest(".upload-files__area .admin-panel__buttons").length||$(".upload-files").addClass("hidden")})},ajaxUploader:function(){var e=$("#UploadFiles"),t=e.find(".loader"),n=e.find(".error");e.length&&new AjaxUpload(e,{action:"/upload/files",name:"uploadfile",onSubmit:function(e,a){return n.text(""),a&&/^(jpg|png|jpeg|gif)$/.test(a)?$(".upload-files .item").length>=12?(n.text("Превышено максимальное колличество файлов."),!1):void t.removeClass("hidden"):(n.text("Поддерживаемые форматы: jpg, png, gif."),!1)},onComplete:function(e,n){var a='<div class="item"><img src="'+n+'" data-link="'+n+'"> <a href="javascript:;" class="cross"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#cross_ff491f"></use></svg></a></div>';$(".upload-files .items").append(a),t.addClass("hidden"),i.updateUploadFiles(),i.deleteUploadFiles()}})},updateUploadFiles:function(){var e=[];$(".upload-files .item").each(function(t){e.push($(".upload-files .item img").eq(t).data("link"))}),$(".uploader .inp_img").val(e.join(",")),0==$(".upload-files .item").length?$(".uploader .filename").text("Файлы не выбраны"):$(".uploader .filename").text("Выбрано файлов: "+$(".upload-files .item").length)},deleteUploadFiles:function(){$(".upload-files .cross").click(function(e){return $(this).parent().remove(),i.updateUploadFiles(),e.preventDefault(),!1})},adminChosen:function(){var e=[],t=[],n=[],a=[],d=[];$(".admin-chosen").each(function(i,s){e[i]=$(s),t[i]=e[i].find(".admin-chosen__area"),n[i]=e[i].find(".admin-chosen__drop"),a[i]=e[i].find(".admin-chosen__drop--item"),d[i]=e[i].find(".admin-chosen__input"),t[i].click(function(){var e=0;a[i].each(function(t){a[i].eq(t).hasClass("hidden")&&e++}),e!=a[i].length&&n[i].removeClass("hidden")});var l=function(){e[i].find(".close").click(function(){$(this).parent().remove();var e=$(this).parent().find("span").text();a[i].each(function(t){a[i].eq(t).text()==e&&a[i].eq(t).removeClass("hidden")}),o()})};l();var o=function(){var e=[];a[i].each(function(t){a[i].eq(t).hasClass("hidden")&&e.push(a[i].eq(t).data("id"))}),d[i].val(e.join(","))};o(),a[i].click(function(){var e=$(this).text(),a='<li class="admin-chosen__area--item"> <span>'+e+'</span> <a href="javascript:;" class="close"></a> </li>';t[i].append(a),n[i].addClass("hidden"),$(this).addClass("hidden"),l(),o()}),$(document).click(function(e){$(e.target).closest(".admin-chosen__drop").length||$(e.target).closest(".admin-chosen__area").length||n[i].addClass("hidden")})})}};i.fileUploader(),i.uploader(),i.ajaxUploader(),i.deleteUploadFiles(),i.adminChosen(),$(".admin-panel__left-side--menu .menu-item").click(function(e){$(this).toggleClass("active"),$(this).next("ul.sub").slideToggle("fast")}),$(".admin-panel__left-side--menu .menu-item-sub").click(function(e){$(".admin-panel__left-side--menu .menu-item-sub").each(function(e){$(this).parent().removeClass("active")}),$(this).parent().addClass("active")});var s={};s.onlyRussian=function(e){return e.search(/^[А-Я|ё| ]+$/i)!=-1},s.isEmpty=function(e){return isNaN(e)?""==e.trim():0==e},$(".inp_select").change(function(e){$(this).prev("span").text($(this).find("option:selected").text())}),$(".admin-panel__checker input").click(function(e){$(this).parent("span").toggleClass("checked")}),$(".inp_plus").click(function(e){$(this).parent().next().removeClass("hidden"),$(this).addClass("hidden")}),$(".dual_selects__stof").click(function(t){var n=$(".dual_selects__second option:selected");$(".dual_selects__first").append(n),e(),t.preventDefault()}),$(".dual_selects__alltof").click(function(t){var n=$(".dual_selects__second option");n.each(function(e){$(".dual_selects__first").append(n[e])}),e(),t.preventDefault()}),$(".dual_selects__ftos").click(function(t){var n=$(".dual_selects__first option:selected");$(".dual_selects__second").append(n),e(),t.preventDefault()}),$(".dual_selects__alltos").click(function(t){var n=$(".dual_selects__first option");n.each(function(e){$(".dual_selects__second").append(n[e])}),e(),t.preventDefault()}),$(".formNextBtn").click(function(e){if($(this).hasClass("disabled"))return e.preventDefault(),!1;var t=$(".blockForm"),n=$(this).data("pos"),a=$(t).find(".admin-panel__widget").eq(parseInt(n)),d=[];$(a).find(".fieldForValidate").each(function(e){var t=a.find(".fieldForValidate").eq(e),n=$(a).find(".fieldForValidate").eq(e).text(),i=$(a).find(".fieldForValidate").eq(e).data("type"),l=$(a).find(".fieldForValidate").eq(e).parent().next(".widget-row__right").find("input").val(),o=parseInt($(a).find(".fieldForValidate").eq(e).parent().next(".widget-row__right").find("select").val()),c=l||o||"";if(s.isEmpty(c))"require"==$(t).data("require")&&(d.push("Необходимо заполнить поле '"+n+"'."),$(a).find(".required").eq(e).parent().next(".widget-row__right").find("input").val(""));else switch(i){case"only_rus":s.onlyRussian(c)||d.push("Поле '"+n+"' может состоять только из русских символов.")}});var i=$("#blockErrors");if($(i).html(""),d.length>0){for(var l=0;l<d.length;l++){var o='<div class="admin-panel__notes warning" id="addTechError"><p><strong>Внимание:</strong><span class="descr">'+d[l]+"</span></p></div>",c=$(i).html();$(i).html(c+o)}return e.preventDefault(),!1}return n==$(".formNextBtn.top").length-1?($(".formNextBtn.top").eq(n).addClass("disabled"),!0):($(t).find(".admin-panel__widget").addClass("hidden"),$(t).find(".admin-panel__widget").eq(n+1).removeClass("hidden"),$(".formNextBtn.top").parent().addClass("hidden"),$(".formNextBtn.top").eq(n+1).parent().removeClass("hidden"),n==$(".formNextBtn.bottom").length-1?($(".formNextBtn.bottom").eq(n).addClass("disabled"),!0):($(t).find(".admin-panel__widget").addClass("hidden"),$(t).find(".admin-panel__widget").eq(n+1).removeClass("hidden"),$(".formNextBtn.bottom").parent().addClass("hidden"),$(".formNextBtn.bottom").eq(n+1).parent().removeClass("hidden"),e.preventDefault(),!1))}),$(".formBackBtn").click(function(e){var t=$(this).data("pos"),n=$(".blockForm");return $(n).find(".admin-panel__widget").addClass("hidden"),$(n).find(".admin-panel__widget").eq(t-1).removeClass("hidden"),$(".formNextBtn.top").parent().addClass("hidden"),$(".formNextBtn.top").eq(t-1).parent().removeClass("hidden"),$(".formNextBtn.bottom").parent().addClass("hidden"),$(".formNextBtn.bottom").eq(t-1).parent().removeClass("hidden"),e.preventDefault(),!1});var l=$("#clientInfo"),o=$("#techInfo"),c=$("#statusesInfo");$("#addTechNextClientBtn").click(function(e){var t=[],n=$("#clientLastName").val(),a=$("#clientFirstName").val(),d=$("#clientFatherName").val(),i=$("#clientPhoneNumber").val(),c=$("#clientCity").val(),r=$("#clientStreet").val();$("#clientHouseNumber").val(),$("#clientFlatNumber").val();if(""==n?t.push("Необходимо заполнить поле 'Фамилия'."):s.onlyRussian(n)||t.push("Фамилия может состоять только из русских символов."),""==a?t.push("Необходимо заполнить поле 'Имя'."):s.onlyRussian(a)||t.push("Имя может состоять только из русских символов."),""==d?t.push("Необходимо заполнить поле 'Отчество'."):s.onlyRussian(d)||t.push("Отчество может состоять только из русских символов."),""==i&&t.push("Необходимо заполнить поле 'Номер телефона'."),""==c||s.onlyRussian(c)||t.push("Название города может состоять только из русских символов."),""==r||s.onlyRussian(r)||t.push("Название улицы может состоять только из русских символов."),$("#addTechError").html(""),t.length>0)for(var h=0;h<t.length;h++){var p='<div class="admin-panel__notes warning" id="addTechError"><p><strong>Внимание:</strong><span class="descr">'+t[h]+"</span></p></div>",f=$("#addTechError").html();$("#addTechError").html(f+p)}else l.addClass("hidden"),o.removeClass("hidden");e.preventDefault()}),$("#addTechNextTechBtn").click(function(t){var n=[],a=$("#techCategory").val(),d=$("#techCategoryNew").val(),i=$("#techBrand").val(),s=$("#techBrandNew").val(),l=$("#techTitle").val(),r=$("#techWorker").val();if(0==a&&""==d&&n.push("Необходимо выбрать категорию из поля 'Категория'."),0==i&&""==s&&n.push("Необходимо выбрать бренд из поля 'Бренд'."),""==l&&n.push("Необходимо заполнить поле 'Название'."),""==r&&n.push("Необходимо выбрать принимающего из поля 'Принял в ремонт'."),$("#addTechError").html(""),n.length>0)for(var h=0;h<n.length;h++){var p='<div class="admin-panel__notes warning" id="addTechError"><p><strong>Внимание:</strong><span class="descr">'+n[h]+"</span></p></div>",f=$("#addTechError").html();$("#addTechError").html(f+p)}else o.addClass("hidden"),c.removeClass("hidden"),e();t.preventDefault()}),$("#addTechPrevTechBtn").click(function(e){o.addClass("hidden"),l.removeClass("hidden"),e.preventDefault()}),$("#addTechPrevStatusBtn").click(function(e){c.addClass("hidden"),o.removeClass("hidden"),e.preventDefault()}),$(".mainChecker input").change(function(e){$(this).parent("span").hasClass("checked")?$(".subChecker").each(function(e){$(".subChecker").eq(e).addClass("checked")}):$(".subChecker").each(function(e){$(".subChecker").eq(e).removeClass("checked")})}),$(".subChecker input").change(function(e){$(".subChecker.checked").length==$(".subChecker").length?$(".mainChecker").addClass("checked"):$(".mainChecker").removeClass("checked")}),$(".DBDeleteBtn").click(function(e){var t="";$(".subChecker.checked").each(function(e){t+=","+$(this).data("id")}),t.length&&(t=t.slice(1)),$("#deleteItems").val(t)}),$("#popupNo").click(function(e){r.addClass("hidden")}),$(".DBDeleteBtn").click(function(e){var a=$(".subChecker.checked").length;if(a>0){t("Удаление элемента","Вы уверены, что хотите удалить элементы из списка? ("+a+"шт.)","delete",$(this).data("action")),n("")}else{n("Выберите хотя бы один элемент для удаления.")}}),$(".DBAddBtn").click(function(e){t("Добавление элемента","Укажите, название нового элемента.","create",$(this).data("action"),$(this).data("types"))}),$(".DBEditBtn").click(function(e){var n=$(this).prev("span").text();$("#editItemName").val(n);var a=$(this).data("id"),d=$(".DBEditBtnInline").data("action"),i=$(this).data("types");$("#editItemId").val(a),t("Изменение элемента","Укажите, новое название элемента.","edit",d,i)}),$(".popUp__changeStatus").click(function(e){var n=$(this).data("action"),a=$(this).data("id"),d=$(this).data("selected");$("#selectItemId").val(a),t("Изменение элемента","Выберите новое значение элемента.","select",n,$(this).data("types"),d)});var r=$(".admin-panel__popup.database");$("ul.tabs a").click(function(e){d(this)}),{shopPopupWithDetailedDescription:function(){$(".shopPopupWithDetailedDescription").click(function(e){return $(".shopPopupWithDetailedDescription").next(".additional-info").addClass("hidden"),$(this).next(".additional-info").toggleClass("hidden"),e.preventDefault(),!1}),$(document).click(function(e){$(e.target).closest(".additional-info").length||$(".shopPopupWithDetailedDescription").next(".additional-info").addClass("hidden")})}}.shopPopupWithDetailedDescription()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbIiQiLCJyZWFkeSIsInNhdmVTdGF0dXNlcyIsInN0YXR1c2VzIiwiZWFjaCIsImkiLCJlcSIsInZhbCIsInNob3dQb3B1cCIsInRpdGxlIiwiY29udGVudCIsInR5cGUiLCJsaW5rIiwidHlwZXMiLCJzZWxlY3RlZCIsInBvcHVwIiwiZmluZCIsInRleHQiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiYXR0ciIsInNob3dFcnJvciIsImVycm9yIiwiaHRtbCIsImlzX2FycmF5IiwibGVuZ3RoIiwiZXJyb3JCbG9jayIsIm9sZF9odG1sIiwiYSIsIkFycmF5IiwidGFibGVUYWJzIiwiZWwiLCJzZWxmIiwidGhpcyIsInBvcyIsIkZvcm1zIiwidXBsb2FkZXIiLCJmb2N1cyIsImUiLCJvbiIsImV2ZW50IiwiZmlsZXMiLCJsYWJlbCIsImZpbGVfbmFtZSIsInZhbHVlIiwicmVwbGFjZSIsIm5leHQiLCJmaWxlVXBsb2FkZXIiLCJkb2N1bWVudCIsImNsaWNrIiwidGFyZ2V0IiwiY2xvc2VzdCIsImFqYXhVcGxvYWRlciIsImJ0blVwbG9hZCIsImxvYWRlciIsIkFqYXhVcGxvYWQiLCJhY3Rpb24iLCJuYW1lIiwib25TdWJtaXQiLCJmaWxlIiwiZXh0IiwidGVzdCIsIm9uQ29tcGxldGUiLCJyZXNwb25zZSIsIml0ZW0iLCJhcHBlbmQiLCJ1cGRhdGVVcGxvYWRGaWxlcyIsImRlbGV0ZVVwbG9hZEZpbGVzIiwibGlua3MiLCJwdXNoIiwiZGF0YSIsImpvaW4iLCJwYXJlbnQiLCJyZW1vdmUiLCJwcmV2ZW50RGVmYXVsdCIsImFkbWluQ2hvc2VuIiwiYmFzZSIsImFyZWEiLCJkcm9wQXJlYSIsImRyb3BJdGVtIiwiaW5wdXQiLCJpbmRleCIsImhpZGRlbkl0ZW1zIiwiaGFzQ2xhc3MiLCJjbG9zZUhhbmRsZSIsIm5vZGVUZXh0IiwidXBkYXRlQ2hvc2VuIiwiY2hvc2VuSXRlbXMiLCJpdGVtVGV4dCIsIml0ZW1Ob2RlIiwidG9nZ2xlQ2xhc3MiLCJzbGlkZVRvZ2dsZSIsIlZhbGlkYXRvciIsIm9ubHlSdXNzaWFuIiwic2VhcmNoIiwiaXNFbXB0eSIsImlzTmFOIiwidHJpbSIsImNoYW5nZSIsInByZXYiLCJibG9ja0Zvcm0iLCJ3aWRnZXQiLCJwYXJzZUludCIsImZpZWxkIiwiZmllbGRfbmFtZSIsImZpZWxkX3ZhbGlkX3R5cGUiLCJmaWVsZF9pbnB1dCIsImZpZWxkX3NlbGVjdCIsImZpZWxkX3ZhbHVlIiwiYmxvY2tFcnJvciIsImNsaWVudEluZm8iLCJ0ZWNoSW5mbyIsInN0YXR1c2VzSW5mbyIsImNsaWVudExhc3ROYW1lIiwiY2xpZW50Rmlyc3ROYW1lIiwiY2xpZW50RmF0aGVyTmFtZSIsImNsaWVudFBob25lTnVtYmVyIiwiY2xpZW50Q2l0eSIsImNsaWVudFN0cmVldCIsInRlY2hDYXRlZ29yeSIsInRlY2hDYXRlZ29yeU5ldyIsInRlY2hCcmFuZCIsInRlY2hCcmFuZE5ldyIsInRlY2hUaXRsZSIsInRlY2hXb3JrZXIiLCJkZWxldGVJdGVtcyIsInNsaWNlIiwiZGVsZXRlSXRlbXNDb3VudCIsImlkIiwic2hvcFBvcHVwV2l0aERldGFpbGVkRGVzY3JpcHRpb24iXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFLFlBQVlDLE1BQU0sV0F5TmhCLFFBQVNDLEtBQ0wsR0FBSUMsR0FBVyxFQUNmSCxHQUFFLGdDQUFnQ0ksS0FBSyxTQUFVQyxHQUM3Q0YsR0FBWUgsRUFBRSxnQ0FBZ0NNLEdBQUdELEdBQUdFLE1BQVEsTUFFaEVQLEVBQUUsaUJBQWlCTyxJQUFJSixHQXlXM0IsUUFBU0ssR0FBVUMsRUFBT0MsRUFBU0MsRUFBTUMsRUFBTUMsRUFBT0MsR0FFbERkLEVBQUVlLEdBQU9DLEtBQUssVUFBVUMsS0FBS1IsR0FDN0JULEVBQUVlLEdBQU9DLEtBQUssa0JBQWtCQyxLQUFLUCxHQUUxQixVQUFSQyxHQUNhLElBQVRFLElBQ0NiLEVBQUVlLEdBQU9DLEtBQUssV0FBYUgsR0FBT0ssWUFBWSxVQUM5Q2xCLEVBQUVl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QUFTVCxHQUNuQnhDLEVBQUV3QyxFQUFNVSxRQUFRQyxRQUFRLG9CQUFvQjFCLFFBQ2hEekIsRUFBRSxxQ0FBcUM4QyxLQUFLLG9CQUFvQjNCLFNBQVMsY0FPL0U4RyIsImZpbGUiOiJhZG1pbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCdkb2N1bWVudCcpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cbiAgICB2YXIgRm9ybXMgPSB7XG5cbiAgICAgICAgJ3VwbG9hZGVyJzogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgJCgnLnVwbG9hZGVyIGlucHV0JykuZm9jdXMoZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgICAkKCcudXBsb2FkLWZpbGVzJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkKCcudXBsb2FkZXIgaW5wdXQnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50LCBmaWxlcywgbGFiZWwpIHtcbiAgICAgICAgICAgICAgdmFyIGZpbGVfbmFtZSA9IHRoaXMudmFsdWUucmVwbGFjZSgvXFxcXC9nLCAnLycpLnJlcGxhY2UoLy4qXFwvLywgJycpO1xuICAgICAgICAgICAgICAkKHRoaXMpLm5leHQoJy5maWxlbmFtZScpLnRleHQoZmlsZV9uYW1lKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9LFxuXG4gICAgICAgICdmaWxlVXBsb2FkZXInOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgIGlmICgkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnLnVwbG9hZC1maWxlc19fYXJlYScpLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICgkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnaW5wdXQnKS5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJy51cGxvYWQtZmlsZXNfX2FyZWEgLmFkbWluLXBhbmVsX19idXR0b25zJykubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICAgICAgJCgnLnVwbG9hZC1maWxlcycpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgJ2FqYXhVcGxvYWRlcic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgYnRuVXBsb2FkID0gJCgnI1VwbG9hZEZpbGVzJyk7XG4gICAgICAgICAgICB2YXIgbG9hZGVyID0gYnRuVXBsb2FkLmZpbmQoJy5sb2FkZXInKTtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IGJ0blVwbG9hZC5maW5kKCcuZXJyb3InKTtcblxuICAgICAgICAgICAgaWYoYnRuVXBsb2FkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG5ldyBBamF4VXBsb2FkKGJ0blVwbG9hZCwge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICcvdXBsb2FkL2ZpbGVzJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3VwbG9hZGZpbGUnLFxuICAgICAgICAgICAgICAgICAgICBvblN1Ym1pdDogZnVuY3Rpb24oZmlsZSwgZXh0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnRleHQoJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIShleHQgJiYgL14oanBnfHBuZ3xqcGVnfGdpZikkLy50ZXN0KGV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IudGV4dCgn0J/QvtC00LTQtdGA0LbQuNCy0LDQtdC80YvQtSDRhNC+0YDQvNCw0YLRizoganBnLCBwbmcsIGdpZi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoJCgnLnVwbG9hZC1maWxlcyAuaXRlbScpLmxlbmd0aCA+PSAxMiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci50ZXh0KCfQn9GA0LXQstGL0YjQtdC90L4g0LzQsNC60YHQuNC80LDQu9GM0L3QvtC1INC60L7Qu9C70LjRh9C10YHRgtCy0L4g0YTQsNC50LvQvtCyLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlci5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oZmlsZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gJycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBzcmM9XCInICsgcmVzcG9uc2UgKyAnXCIgZGF0YS1saW5rPVwiJyArIHJlc3BvbnNlICsgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIDxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBjbGFzcz1cImNyb3NzXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx1c2UgeGxpbms6aHJlZj1cIiNjcm9zc19mZjQ5MWZcIj48L3VzZT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3N2Zz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvYT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy51cGxvYWQtZmlsZXMgLml0ZW1zJykuYXBwZW5kKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVyLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgRm9ybXMudXBkYXRlVXBsb2FkRmlsZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEZvcm1zLmRlbGV0ZVVwbG9hZEZpbGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAndXBkYXRlVXBsb2FkRmlsZXMnOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBsaW5rcyA9IFtdO1xuICAgICAgICAgICAgJCgnLnVwbG9hZC1maWxlcyAuaXRlbScpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICBsaW5rcy5wdXNoKCQoJy51cGxvYWQtZmlsZXMgLml0ZW0gaW1nJykuZXEoaSkuZGF0YSgnbGluaycpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCgnLnVwbG9hZGVyIC5pbnBfaW1nJykudmFsKGxpbmtzLmpvaW4oJywnKSk7XG4gICAgICAgICAgICBpZigkKCcudXBsb2FkLWZpbGVzIC5pdGVtJykubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAkKCcudXBsb2FkZXIgLmZpbGVuYW1lJykudGV4dCgn0KTQsNC50LvRiyDQvdC1INCy0YvQsdGA0LDQvdGLJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJy51cGxvYWRlciAuZmlsZW5hbWUnKS50ZXh0KCfQktGL0LHRgNCw0L3QviDRhNCw0LnQu9C+0LI6ICcgKyAkKCcudXBsb2FkLWZpbGVzIC5pdGVtJykubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAnZGVsZXRlVXBsb2FkRmlsZXMnOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICQoJy51cGxvYWQtZmlsZXMgLmNyb3NzJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIEZvcm1zLnVwZGF0ZVVwbG9hZEZpbGVzKCk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgICdhZG1pbkNob3Nlbic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgYmFzZSA9IFtdO1xuICAgICAgICAgICAgdmFyIGFyZWEgPSBbXTtcbiAgICAgICAgICAgIHZhciBkcm9wQXJlYSA9IFtdO1xuICAgICAgICAgICAgdmFyIGRyb3BJdGVtID0gW107XG4gICAgICAgICAgICB2YXIgaW5wdXQgPSBbXTtcbiAgICAgICAgICAgICQoJy5hZG1pbi1jaG9zZW4nKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xuICAgICAgICAgICAgICAgIGJhc2VbaW5kZXhdID0gJChpdGVtKTtcbiAgICAgICAgICAgICAgICBhcmVhW2luZGV4XSA9IGJhc2VbaW5kZXhdLmZpbmQoJy5hZG1pbi1jaG9zZW5fX2FyZWEnKTtcbiAgICAgICAgICAgICAgICBkcm9wQXJlYVtpbmRleF0gPSBiYXNlW2luZGV4XS5maW5kKCcuYWRtaW4tY2hvc2VuX19kcm9wJyk7XG4gICAgICAgICAgICAgICAgZHJvcEl0ZW1baW5kZXhdID0gYmFzZVtpbmRleF0uZmluZCgnLmFkbWluLWNob3Nlbl9fZHJvcC0taXRlbScpO1xuICAgICAgICAgICAgICAgIGlucHV0W2luZGV4XSA9IGJhc2VbaW5kZXhdLmZpbmQoJy5hZG1pbi1jaG9zZW5fX2lucHV0Jyk7XG5cbiAgICAgICAgICAgICAgICBhcmVhW2luZGV4XS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoaWRkZW5JdGVtcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGRyb3BJdGVtW2luZGV4XS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkcm9wSXRlbVtpbmRleF0uZXEoaSkuaGFzQ2xhc3MoJ2hpZGRlbicpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW5JdGVtcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYoaGlkZGVuSXRlbXMgIT0gZHJvcEl0ZW1baW5kZXhdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcEFyZWFbaW5kZXhdLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNsb3NlSGFuZGxlID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjbG9zZU5vZGUgPSBiYXNlW2luZGV4XS5maW5kKCcuY2xvc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VOb2RlLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZVRleHQgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ3NwYW4nKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcm9wSXRlbVtpbmRleF0uZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRyb3BJdGVtW2luZGV4XS5lcShpKS50ZXh0KCkgPT0gbm9kZVRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcEl0ZW1baW5kZXhdLmVxKGkpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNob3NlbigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNsb3NlSGFuZGxlKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlQ2hvc2VuICA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNob3Nlbkl0ZW1zID0gW107XG4gICAgICAgICAgICAgICAgICAgIGRyb3BJdGVtW2luZGV4XS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkcm9wSXRlbVtpbmRleF0uZXEoaSkuaGFzQ2xhc3MoJ2hpZGRlbicpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9zZW5JdGVtcy5wdXNoKGRyb3BJdGVtW2luZGV4XS5lcShpKS5kYXRhKCdpZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0W2luZGV4XS52YWwoY2hvc2VuSXRlbXMuam9pbignLCcpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHVwZGF0ZUNob3NlbigpO1xuXG4gICAgICAgICAgICAgICAgZHJvcEl0ZW1baW5kZXhdLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1UZXh0ID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtTm9kZSA9ICcnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8bGkgY2xhc3M9XCJhZG1pbi1jaG9zZW5fX2FyZWEtLWl0ZW1cIj4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4+JyArIGl0ZW1UZXh0ICsgJzwvc3Bhbj4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiIGNsYXNzPVwiY2xvc2VcIj48L2E+ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzwvbGk+JztcbiAgICAgICAgICAgICAgICAgICAgYXJlYVtpbmRleF0uYXBwZW5kKGl0ZW1Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgZHJvcEFyZWFbaW5kZXhdLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlSGFuZGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNob3NlbigpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgICAgICBpZiAoJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJy5hZG1pbi1jaG9zZW5fX2Ryb3AnKS5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCcuYWRtaW4tY2hvc2VuX19hcmVhJykubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGRyb3BBcmVhW2luZGV4XS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgIH07XG4gICAgRm9ybXMuZmlsZVVwbG9hZGVyKCk7XG4gICAgRm9ybXMudXBsb2FkZXIoKTtcbiAgICBGb3Jtcy5hamF4VXBsb2FkZXIoKTtcbiAgICBGb3Jtcy5kZWxldGVVcGxvYWRGaWxlcygpO1xuICAgIEZvcm1zLmFkbWluQ2hvc2VuKCk7XG5cbiAgICAkKCcuYWRtaW4tcGFuZWxfX2xlZnQtc2lkZS0tbWVudSAubWVudS1pdGVtJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQodGhpcykubmV4dCgndWwuc3ViJykuc2xpZGVUb2dnbGUoJ2Zhc3QnKTtcbiAgICB9KTtcblxuICAgICQoJy5hZG1pbi1wYW5lbF9fbGVmdC1zaWRlLS1tZW51IC5tZW51LWl0ZW0tc3ViJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgJCgnLmFkbWluLXBhbmVsX19sZWZ0LXNpZGUtLW1lbnUgLm1lbnUtaXRlbS1zdWInKS5lYWNoKGZ1bmN0aW9uKGkpe1xuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIHZhciBWYWxpZGF0b3IgPSB7fTtcbiAgICBWYWxpZGF0b3Iub25seVJ1c3NpYW4gPSBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgdmFyIHJlZ2V4ID0gL15b0JAt0K980ZF8IF0rJC9pO1xuICAgICAgICBpZihkYXRhLnNlYXJjaChyZWdleCkgIT0gLTEpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIFZhbGlkYXRvci5pc0VtcHR5ID0gZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgIGlmKGlzTmFOKGRhdGEpKXtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnRyaW0oKSA9PSAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YSA9PSAwO1xuXG4gICAgfVxuXG4gICAgJCgnLmlucF9zZWxlY3QnKS5jaGFuZ2UoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgJCh0aGlzKS5wcmV2KCdzcGFuJykudGV4dCgkKHRoaXMpLmZpbmQoJ29wdGlvbjpzZWxlY3RlZCcpLnRleHQoKSk7XG4gICAgfSk7XG5cbiAgICAkKCcuYWRtaW4tcGFuZWxfX2NoZWNrZXIgaW5wdXQnKS5jbGljayhmdW5jdGlvbihlKXtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoXCJzcGFuXCIpLnRvZ2dsZUNsYXNzKCdjaGVja2VkJyk7XG4gICAgfSk7XG5cbiAgICAkKCcuaW5wX3BsdXMnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLm5leHQoKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgIH0pXG5cbiAgICBmdW5jdGlvbiBzYXZlU3RhdHVzZXMoKXtcbiAgICAgICAgdmFyIHN0YXR1c2VzID0gJyc7XG4gICAgICAgICQoJy5kdWFsX3NlbGVjdHNfX3NlY29uZCBvcHRpb24nKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICBzdGF0dXNlcyArPSAkKCcuZHVhbF9zZWxlY3RzX19zZWNvbmQgb3B0aW9uJykuZXEoaSkudmFsKCkgKyAnLCc7XG4gICAgICAgIH0pO1xuICAgICAgICAkKCcjdGVjaFN0YXR1c2VzJykudmFsKHN0YXR1c2VzKTtcbiAgICB9XG5cbiAgICAkKCcuZHVhbF9zZWxlY3RzX19zdG9mJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gJCgnLmR1YWxfc2VsZWN0c19fc2Vjb25kIG9wdGlvbjpzZWxlY3RlZCcpO1xuICAgICAgICAkKCcuZHVhbF9zZWxlY3RzX19maXJzdCcpLmFwcGVuZChzZWxlY3RlZCk7XG5cbiAgICAgICAgc2F2ZVN0YXR1c2VzKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgICQoJy5kdWFsX3NlbGVjdHNfX2FsbHRvZicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICQoJy5kdWFsX3NlbGVjdHNfX3NlY29uZCBvcHRpb24nKTtcbiAgICAgICAgc2VsZWN0ZWQuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgJCgnLmR1YWxfc2VsZWN0c19fZmlyc3QnKS5hcHBlbmQoc2VsZWN0ZWRbaV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBzYXZlU3RhdHVzZXMoKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgJCgnLmR1YWxfc2VsZWN0c19fZnRvcycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICQoJy5kdWFsX3NlbGVjdHNfX2ZpcnN0IG9wdGlvbjpzZWxlY3RlZCcpO1xuICAgICAgICAkKCcuZHVhbF9zZWxlY3RzX19zZWNvbmQnKS5hcHBlbmQoc2VsZWN0ZWQpO1xuXG4gICAgICAgIHNhdmVTdGF0dXNlcygpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKCcuZHVhbF9zZWxlY3RzX19hbGx0b3MnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSAkKCcuZHVhbF9zZWxlY3RzX19maXJzdCBvcHRpb24nKTtcbiAgICAgICAgc2VsZWN0ZWQuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgJCgnLmR1YWxfc2VsZWN0c19fc2Vjb25kJykuYXBwZW5kKHNlbGVjdGVkW2ldKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2F2ZVN0YXR1c2VzKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgICQoJy5mb3JtTmV4dEJ0bicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgaWYoJCh0aGlzKS5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJsb2NrRm9ybSA9ICQoJy5ibG9ja0Zvcm0nKTtcbiAgICAgICAgdmFyIHBvcyA9ICQodGhpcykuZGF0YSgncG9zJyk7XG4gICAgICAgIHZhciB3aWRnZXQgPSAkKGJsb2NrRm9ybSkuZmluZCgnLmFkbWluLXBhbmVsX193aWRnZXQnKS5lcShwYXJzZUludChwb3MpKTtcbiAgICAgICAgdmFyIGVycm9yID0gW107XG5cbiAgICAgICAgJCh3aWRnZXQpLmZpbmQoJy5maWVsZEZvclZhbGlkYXRlJykuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgdmFyIGZpZWxkID0gKHdpZGdldCkuZmluZCgnLmZpZWxkRm9yVmFsaWRhdGUnKS5lcShpKTtcbiAgICAgICAgICAgIHZhciBmaWVsZF9uYW1lID0gJCh3aWRnZXQpLmZpbmQoJy5maWVsZEZvclZhbGlkYXRlJykuZXEoaSkudGV4dCgpO1xuICAgICAgICAgICAgdmFyIGZpZWxkX3ZhbGlkX3R5cGUgPSAkKHdpZGdldCkuZmluZCgnLmZpZWxkRm9yVmFsaWRhdGUnKS5lcShpKS5kYXRhKCd0eXBlJyk7XG4gICAgICAgICAgICB2YXIgZmllbGRfaW5wdXQgPSAkKHdpZGdldCkuZmluZCgnLmZpZWxkRm9yVmFsaWRhdGUnKS5lcShpKS5wYXJlbnQoKS5uZXh0KCcud2lkZ2V0LXJvd19fcmlnaHQnKS5maW5kKCdpbnB1dCcpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGZpZWxkX3NlbGVjdCA9ICBwYXJzZUludCgkKHdpZGdldCkuZmluZCgnLmZpZWxkRm9yVmFsaWRhdGUnKS5lcShpKS5wYXJlbnQoKS5uZXh0KCcud2lkZ2V0LXJvd19fcmlnaHQnKS5maW5kKCdzZWxlY3QnKS52YWwoKSk7XG4gICAgICAgICAgICB2YXIgZmllbGRfdmFsdWUgPSAgZmllbGRfaW5wdXQgfHwgZmllbGRfc2VsZWN0IHx8ICcnO1xuICAgICAgICAgICAgaWYgKFZhbGlkYXRvci5pc0VtcHR5KGZpZWxkX3ZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmKCQoZmllbGQpLmRhdGEoJ3JlcXVpcmUnKSA9PSAncmVxdWlyZScpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IucHVzaChcItCd0LXQvtCx0YXQvtC00LjQvNC+INC30LDQv9C+0LvQvdC40YLRjCDQv9C+0LvQtSAnXCIgKyBmaWVsZF9uYW1lICsgXCInLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgJCh3aWRnZXQpLmZpbmQoJy5yZXF1aXJlZCcpLmVxKGkpLnBhcmVudCgpLm5leHQoJy53aWRnZXQtcm93X19yaWdodCcpLmZpbmQoJ2lucHV0JykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGRfdmFsaWRfdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdvbmx5X3J1cyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghVmFsaWRhdG9yLm9ubHlSdXNzaWFuKGZpZWxkX3ZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnB1c2goXCLQn9C+0LvQtSAnXCIgKyBmaWVsZF9uYW1lICsgXCInINC80L7QttC10YIg0YHQvtGB0YLQvtGP0YLRjCDRgtC+0LvRjNC60L4g0LjQtyDRgNGD0YHRgdC60LjRhSDRgdC40LzQstC+0LvQvtCyLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgYmxvY2tFcnJvciA9ICQoJyNibG9ja0Vycm9ycycpO1xuICAgICAgICAkKGJsb2NrRXJyb3IpLmh0bWwoJycpO1xuICAgICAgICBpZiAoZXJyb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlcnJvci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvckJsb2NrID1cbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJhZG1pbi1wYW5lbF9fbm90ZXMgd2FybmluZ1wiIGlkPVwiYWRkVGVjaEVycm9yXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICc8cD4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxzdHJvbmc+0JLQvdC40LzQsNC90LjQtTo8L3N0cm9uZz4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZGVzY3JcIj4nICsgZXJyb3JbaV0gKyAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9wPicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICB2YXIgb2xkX2h0bWwgPSAkKGJsb2NrRXJyb3IpLmh0bWwoKTtcbiAgICAgICAgICAgICAgICAkKGJsb2NrRXJyb3IpLmh0bWwob2xkX2h0bWwgKyBlcnJvckJsb2NrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYocG9zID09ICQoJy5mb3JtTmV4dEJ0bi50b3AnKS5sZW5ndGggLSAxKXtcbiAgICAgICAgICAgICAgICAkKCcuZm9ybU5leHRCdG4udG9wJykuZXEocG9zKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJChibG9ja0Zvcm0pLmZpbmQoJy5hZG1pbi1wYW5lbF9fd2lkZ2V0JykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICQoYmxvY2tGb3JtKS5maW5kKCcuYWRtaW4tcGFuZWxfX3dpZGdldCcpLmVxKHBvcyArIDEpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAkKCcuZm9ybU5leHRCdG4udG9wJykucGFyZW50KCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICQoJy5mb3JtTmV4dEJ0bi50b3AnKS5lcShwb3MgKyAxKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHBvcyA9PSAkKCcuZm9ybU5leHRCdG4uYm90dG9tJykubGVuZ3RoIC0gMSl7XG4gICAgICAgICAgICAgICAgJCgnLmZvcm1OZXh0QnRuLmJvdHRvbScpLmVxKHBvcykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoYmxvY2tGb3JtKS5maW5kKCcuYWRtaW4tcGFuZWxfX3dpZGdldCcpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAkKGJsb2NrRm9ybSkuZmluZCgnLmFkbWluLXBhbmVsX193aWRnZXQnKS5lcShwb3MgKyAxKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgJCgnLmZvcm1OZXh0QnRuLmJvdHRvbScpLnBhcmVudCgpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAkKCcuZm9ybU5leHRCdG4uYm90dG9tJykuZXEocG9zICsgMSkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcuZm9ybUJhY2tCdG4nKS5jbGljayhmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgIHZhciBwb3MgPSAkKHRoaXMpLmRhdGEoJ3BvcycpO1xuXG4gICAgICAgIHZhciBibG9ja0Zvcm0gPSAkKCcuYmxvY2tGb3JtJyk7XG4gICAgICAgICQoYmxvY2tGb3JtKS5maW5kKCcuYWRtaW4tcGFuZWxfX3dpZGdldCcpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgJChibG9ja0Zvcm0pLmZpbmQoJy5hZG1pbi1wYW5lbF9fd2lkZ2V0JykuZXEocG9zIC0gMSkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAkKCcuZm9ybU5leHRCdG4udG9wJykucGFyZW50KCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAkKCcuZm9ybU5leHRCdG4udG9wJykuZXEocG9zIC0gMSkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAkKCcuZm9ybU5leHRCdG4uYm90dG9tJykucGFyZW50KCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAkKCcuZm9ybU5leHRCdG4uYm90dG9tJykuZXEocG9zIC0gMSkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgfSk7XG5cbiAgICB2YXIgY2xpZW50SW5mbyA9ICQoJyNjbGllbnRJbmZvJyk7XG4gICAgdmFyIHRlY2hJbmZvID0gJCgnI3RlY2hJbmZvJyk7XG4gICAgdmFyIHN0YXR1c2VzSW5mbyA9ICQoJyNzdGF0dXNlc0luZm8nKTtcblxuICAgICQoJyNhZGRUZWNoTmV4dENsaWVudEJ0bicpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcblxuICAgICAgICB2YXIgZXJyb3IgPSBbXTtcblxuICAgICAgICB2YXIgY2xpZW50TGFzdE5hbWUgPSAkKCcjY2xpZW50TGFzdE5hbWUnKS52YWwoKTtcbiAgICAgICAgdmFyIGNsaWVudEZpcnN0TmFtZSA9ICQoJyNjbGllbnRGaXJzdE5hbWUnKS52YWwoKTtcbiAgICAgICAgdmFyIGNsaWVudEZhdGhlck5hbWUgPSAkKCcjY2xpZW50RmF0aGVyTmFtZScpLnZhbCgpO1xuICAgICAgICB2YXIgY2xpZW50UGhvbmVOdW1iZXIgPSAkKCcjY2xpZW50UGhvbmVOdW1iZXInKS52YWwoKTtcbiAgICAgICAgdmFyIGNsaWVudENpdHkgPSAkKCcjY2xpZW50Q2l0eScpLnZhbCgpO1xuICAgICAgICB2YXIgY2xpZW50U3RyZWV0ID0gJCgnI2NsaWVudFN0cmVldCcpLnZhbCgpO1xuICAgICAgICB2YXIgY2xpZW50SG91c2VOdW1iZXIgPSAkKCcjY2xpZW50SG91c2VOdW1iZXInKS52YWwoKTtcbiAgICAgICAgdmFyIGNsaWVudEZsYXROdW1iZXIgPSAkKCcjY2xpZW50RmxhdE51bWJlcicpLnZhbCgpO1xuXG4gICAgICAgIGlmIChjbGllbnRMYXN0TmFtZSA9PSAnJykge1xuICAgICAgICAgICAgZXJyb3IucHVzaChcItCd0LXQvtCx0YXQvtC00LjQvNC+INC30LDQv9C+0LvQvdC40YLRjCDQv9C+0LvQtSAn0KTQsNC80LjQu9C40Y8nLlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICghVmFsaWRhdG9yLm9ubHlSdXNzaWFuKGNsaWVudExhc3ROYW1lKSkge1xuICAgICAgICAgICAgZXJyb3IucHVzaChcItCk0LDQvNC40LvQuNGPINC80L7QttC10YIg0YHQvtGB0YLQvtGP0YLRjCDRgtC+0LvRjNC60L4g0LjQtyDRgNGD0YHRgdC60LjRhSDRgdC40LzQstC+0LvQvtCyLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xpZW50Rmlyc3ROYW1lID09ICcnKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFwi0J3QtdC+0LHRhdC+0LTQuNC80L4g0LfQsNC/0L7Qu9C90LjRgtGMINC/0L7Qu9C1ICfQmNC80Y8nLlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICghVmFsaWRhdG9yLm9ubHlSdXNzaWFuKGNsaWVudEZpcnN0TmFtZSkpIHtcbiAgICAgICAgICAgIGVycm9yLnB1c2goXCLQmNC80Y8g0LzQvtC20LXRgiDRgdC+0YHRgtC+0Y/RgtGMINGC0L7Qu9GM0LrQviDQuNC3INGA0YPRgdGB0LrQuNGFINGB0LjQvNCy0L7Qu9C+0LIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGllbnRGYXRoZXJOYW1lID09ICcnKSB7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFwi0J3QtdC+0LHRhdC+0LTQuNC80L4g0LfQsNC/0L7Qu9C90LjRgtGMINC/0L7Qu9C1ICfQntGC0YfQtdGB0YLQstC+Jy5cIik7XG4gICAgICAgIH0gZWxzZSBpZiAoIVZhbGlkYXRvci5vbmx5UnVzc2lhbihjbGllbnRGYXRoZXJOYW1lKSkge1xuICAgICAgICAgICAgZXJyb3IucHVzaChcItCe0YLRh9C10YHRgtCy0L4g0LzQvtC20LXRgiDRgdC+0YHRgtC+0Y/RgtGMINGC0L7Qu9GM0LrQviDQuNC3INGA0YPRgdGB0LrQuNGFINGB0LjQvNCy0L7Qu9C+0LIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGllbnRQaG9uZU51bWJlciA9PSAnJykge1xuICAgICAgICAgICAgZXJyb3IucHVzaChcItCd0LXQvtCx0YXQvtC00LjQvNC+INC30LDQv9C+0LvQvdC40YLRjCDQv9C+0LvQtSAn0J3QvtC80LXRgCDRgtC10LvQtdGE0L7QvdCwJy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsaWVudENpdHkgIT0gJycgJiYgIVZhbGlkYXRvci5vbmx5UnVzc2lhbihjbGllbnRDaXR5KSkge1xuICAgICAgICAgICAgZXJyb3IucHVzaChcItCd0LDQt9Cy0LDQvdC40LUg0LPQvtGA0L7QtNCwINC80L7QttC10YIg0YHQvtGB0YLQvtGP0YLRjCDRgtC+0LvRjNC60L4g0LjQtyDRgNGD0YHRgdC60LjRhSDRgdC40LzQstC+0LvQvtCyLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xpZW50U3RyZWV0ICE9ICcnICYmICFWYWxpZGF0b3Iub25seVJ1c3NpYW4oY2xpZW50U3RyZWV0KSkge1xuICAgICAgICAgICAgZXJyb3IucHVzaChcItCd0LDQt9Cy0LDQvdC40LUg0YPQu9C40YbRiyDQvNC+0LbQtdGCINGB0L7RgdGC0L7Rj9GC0Ywg0YLQvtC70YzQutC+INC40Lcg0YDRg9GB0YHQutC40YUg0YHQuNC80LLQvtC70L7Qsi5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAkKCcjYWRkVGVjaEVycm9yJykuaHRtbCgnJyk7XG4gICAgICAgIGlmIChlcnJvci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVycm9yLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yQmxvY2sgPVxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImFkbWluLXBhbmVsX19ub3RlcyB3YXJuaW5nXCIgaWQ9XCJhZGRUZWNoRXJyb3JcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxwPicgK1xuICAgICAgICAgICAgICAgICAgICAnPHN0cm9uZz7QktC90LjQvNCw0L3QuNC1Ojwvc3Ryb25nPicgK1xuICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJkZXNjclwiPicgKyBlcnJvcltpXSArICc8L3NwYW4+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L3A+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xuICAgICAgICAgICAgICAgIHZhciBvbGRfaHRtbCA9ICQoJyNhZGRUZWNoRXJyb3InKS5odG1sKCk7XG4gICAgICAgICAgICAgICAgJCgnI2FkZFRlY2hFcnJvcicpLmh0bWwob2xkX2h0bWwgKyBlcnJvckJsb2NrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsaWVudEluZm8uYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGVjaEluZm8ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgJCgnI2FkZFRlY2hOZXh0VGVjaEJ0bicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgdmFyIGVycm9yID0gW107XG5cbiAgICAgICAgdmFyIHRlY2hDYXRlZ29yeSA9ICQoJyN0ZWNoQ2F0ZWdvcnknKS52YWwoKTtcbiAgICAgICAgdmFyIHRlY2hDYXRlZ29yeU5ldyA9ICQoJyN0ZWNoQ2F0ZWdvcnlOZXcnKS52YWwoKTtcbiAgICAgICAgdmFyIHRlY2hCcmFuZCA9ICQoJyN0ZWNoQnJhbmQnKS52YWwoKTtcbiAgICAgICAgdmFyIHRlY2hCcmFuZE5ldyA9ICQoJyN0ZWNoQnJhbmROZXcnKS52YWwoKTtcbiAgICAgICAgdmFyIHRlY2hUaXRsZSA9ICQoJyN0ZWNoVGl0bGUnKS52YWwoKTtcbiAgICAgICAgdmFyIHRlY2hXb3JrZXIgPSAkKCcjdGVjaFdvcmtlcicpLnZhbCgpO1xuXG4gICAgICAgIGlmKHRlY2hDYXRlZ29yeSA9PSAwICYmIHRlY2hDYXRlZ29yeU5ldyA9PSAnJyl7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFwi0J3QtdC+0LHRhdC+0LTQuNC80L4g0LLRi9Cx0YDQsNGC0Ywg0LrQsNGC0LXQs9C+0YDQuNGOINC40Lcg0L/QvtC70Y8gJ9Ca0LDRgtC10LPQvtGA0LjRjycuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRlY2hCcmFuZCA9PSAwICYmIHRlY2hCcmFuZE5ldyA9PSAnJyl7XG4gICAgICAgICAgICBlcnJvci5wdXNoKFwi0J3QtdC+0LHRhdC+0LTQuNC80L4g0LLRi9Cx0YDQsNGC0Ywg0LHRgNC10L3QtCDQuNC3INC/0L7Qu9GPICfQkdGA0LXQvdC0Jy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGVjaFRpdGxlID09ICcnKXtcbiAgICAgICAgICAgIGVycm9yLnB1c2goXCLQndC10L7QsdGF0L7QtNC40LzQviDQt9Cw0L/QvtC70L3QuNGC0Ywg0L/QvtC70LUgJ9Cd0LDQt9Cy0LDQvdC40LUnLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0ZWNoV29ya2VyID09ICcnKXtcbiAgICAgICAgICAgIGVycm9yLnB1c2goXCLQndC10L7QsdGF0L7QtNC40LzQviDQstGL0LHRgNCw0YLRjCDQv9GA0LjQvdC40LzQsNGO0YnQtdCz0L4g0LjQtyDQv9C+0LvRjyAn0J/RgNC40L3Rj9C7INCyINGA0LXQvNC+0L3RgicuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnI2FkZFRlY2hFcnJvcicpLmh0bWwoJycpO1xuICAgICAgICBpZiAoZXJyb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlcnJvci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvckJsb2NrID1cbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJhZG1pbi1wYW5lbF9fbm90ZXMgd2FybmluZ1wiIGlkPVwiYWRkVGVjaEVycm9yXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICc8cD4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxzdHJvbmc+0JLQvdC40LzQsNC90LjQtTo8L3N0cm9uZz4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZGVzY3JcIj4nICsgZXJyb3JbaV0gKyAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9wPicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICB2YXIgb2xkX2h0bWwgPSAkKCcjYWRkVGVjaEVycm9yJykuaHRtbCgpO1xuICAgICAgICAgICAgICAgICQoJyNhZGRUZWNoRXJyb3InKS5odG1sKG9sZF9odG1sICsgZXJyb3JCbG9jayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZWNoSW5mby5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICBzdGF0dXNlc0luZm8ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgc2F2ZVN0YXR1c2VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKCcjYWRkVGVjaFByZXZUZWNoQnRuJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICB0ZWNoSW5mby5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIGNsaWVudEluZm8ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgICQoJyNhZGRUZWNoUHJldlN0YXR1c0J0bicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgc3RhdHVzZXNJbmZvLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgdGVjaEluZm8ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgICQoJy5tYWluQ2hlY2tlciBpbnB1dCcpLmNoYW5nZShmdW5jdGlvbihlKSB7XG5cbiAgICAgICAgaWYoJCh0aGlzKS5wYXJlbnQoJ3NwYW4nKS5oYXNDbGFzcygnY2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAkKCcuc3ViQ2hlY2tlcicpLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICAgICAgICAgICQoJy5zdWJDaGVja2VyJykuZXEoaSkuYWRkQ2xhc3MoJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLnN1YkNoZWNrZXInKS5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgICAgICAkKCcuc3ViQ2hlY2tlcicpLmVxKGkpLnJlbW92ZUNsYXNzKCdjaGVja2VkJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLnN1YkNoZWNrZXIgaW5wdXQnKS5jaGFuZ2UoZnVuY3Rpb24oZSkge1xuXG4gICAgICAgIGlmKCQoJy5zdWJDaGVja2VyLmNoZWNrZWQnKS5sZW5ndGggPT0gJCgnLnN1YkNoZWNrZXInKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICQoJy5tYWluQ2hlY2tlcicpLmFkZENsYXNzKCdjaGVja2VkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcubWFpbkNoZWNrZXInKS5yZW1vdmVDbGFzcygnY2hlY2tlZCcpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcuREJEZWxldGVCdG4nKS5jbGljayhmdW5jdGlvbihlKSB7XG5cbiAgICAgICAgdmFyIGRlbGV0ZUl0ZW1zID0gJyc7XG4gICAgICAgICQoJy5zdWJDaGVja2VyLmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGRlbGV0ZUl0ZW1zICs9ICcsJyArICQodGhpcykuZGF0YSgnaWQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKGRlbGV0ZUl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgZGVsZXRlSXRlbXMgPSBkZWxldGVJdGVtcy5zbGljZSgxKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJyNkZWxldGVJdGVtcycpLnZhbChkZWxldGVJdGVtcyk7XG4gICAgfSk7XG5cblxuXG4gICAgLy8gY2xvc2UgcG9wVXBcbiAgICAkKCcjcG9wdXBObycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHBvcHVwLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICB9KTtcblxuICAgICQoJy5EQkRlbGV0ZUJ0bicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgdmFyIGRlbGV0ZUl0ZW1zQ291bnQgPSAkKCcuc3ViQ2hlY2tlci5jaGVja2VkJykubGVuZ3RoO1xuICAgICAgICBpZihkZWxldGVJdGVtc0NvdW50ID4gMCkge1xuXG4gICAgICAgICAgICB2YXIgcG9wdXBUaXRsZSA9ICfQo9C00LDQu9C10L3QuNC1INGN0LvQtdC80LXQvdGC0LAnO1xuICAgICAgICAgICAgdmFyIHBvcHVwQ29udGVudCA9ICfQktGLINGD0LLQtdGA0LXQvdGLLCDRh9GC0L4g0YXQvtGC0LjRgtC1INGD0LTQsNC70LjRgtGMINGN0LvQtdC80LXQvdGC0Ysg0LjQtyDRgdC/0LjRgdC60LA/ICgnICsgZGVsZXRlSXRlbXNDb3VudCArICfRiNGCLiknO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSAnZGVsZXRlJztcbiAgICAgICAgICAgIHZhciBsaW5rID0gJCh0aGlzKS5kYXRhKCdhY3Rpb24nKTtcbiAgICAgICAgICAgIHNob3dQb3B1cChwb3B1cFRpdGxlLCBwb3B1cENvbnRlbnQsIHR5cGUsIGxpbmspO1xuICAgICAgICAgICAgc2hvd0Vycm9yKCcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9ICfQktGL0LHQtdGA0LjRgtC1INGF0L7RgtGPINCx0Ysg0L7QtNC40L0g0Y3Qu9C10LzQtdC90YIg0LTQu9GPINGD0LTQsNC70LXQvdC40Y8uJztcbiAgICAgICAgICAgIHNob3dFcnJvcihlcnJvcik7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgJCgnLkRCQWRkQnRuJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICB2YXIgcG9wdXBUaXRsZSA9ICfQlNC+0LHQsNCy0LvQtdC90LjQtSDRjdC70LXQvNC10L3RgtCwJztcbiAgICAgICAgdmFyIHBvcHVwQ29udGVudCA9ICfQo9C60LDQttC40YLQtSwg0L3QsNC30LLQsNC90LjQtSDQvdC+0LLQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsC4nO1xuICAgICAgICB2YXIgdHlwZSA9ICdjcmVhdGUnO1xuICAgICAgICB2YXIgbGluayA9ICQodGhpcykuZGF0YSgnYWN0aW9uJyk7XG4gICAgICAgIHZhciB0eXBlcyA9ICQodGhpcykuZGF0YSgndHlwZXMnKTtcbiAgICAgICAgc2hvd1BvcHVwKHBvcHVwVGl0bGUsIHBvcHVwQ29udGVudCwgdHlwZSwgbGluaywgdHlwZXMpO1xuICAgIH0pO1xuXG4gICAgJCgnLkRCRWRpdEJ0bicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgdmFyIHBvcHVwVGl0bGUgPSAn0JjQt9C80LXQvdC10L3QuNC1INGN0LvQtdC80LXQvdGC0LAnO1xuICAgICAgICB2YXIgcG9wdXBDb250ZW50ID0gJ9Cj0LrQsNC20LjRgtC1LCDQvdC+0LLQvtC1INC90LDQt9Cy0LDQvdC40LUg0Y3Qu9C10LzQtdC90YLQsC4nO1xuICAgICAgICB2YXIgdHlwZSA9ICdlZGl0JztcbiAgICAgICAgdmFyIHRleHQgPSAkKHRoaXMpLnByZXYoJ3NwYW4nKS50ZXh0KCk7XG4gICAgICAgICQoJyNlZGl0SXRlbU5hbWUnKS52YWwodGV4dCk7XG4gICAgICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcbiAgICAgICAgdmFyIGxpbmsgPSAkKCcuREJFZGl0QnRuSW5saW5lJykuZGF0YSgnYWN0aW9uJyk7XG4gICAgICAgIHZhciB0eXBlcyA9ICQodGhpcykuZGF0YSgndHlwZXMnKTtcbiAgICAgICAgJCgnI2VkaXRJdGVtSWQnKS52YWwoaWQpO1xuICAgICAgICBzaG93UG9wdXAocG9wdXBUaXRsZSwgcG9wdXBDb250ZW50LCB0eXBlLCBsaW5rLCB0eXBlcyk7XG4gICAgfSk7XG5cbiAgICAkKCcucG9wVXBfX2NoYW5nZVN0YXR1cycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgdmFyIHBvcHVwVGl0bGUgPSAn0JjQt9C80LXQvdC10L3QuNC1INGN0LvQtdC80LXQvdGC0LAnO1xuICAgICAgICB2YXIgcG9wdXBDb250ZW50ID0gJ9CS0YvQsdC10YDQuNGC0LUg0L3QvtCy0L7QtSDQt9C90LDRh9C10L3QuNC1INGN0LvQtdC80LXQvdGC0LAuJztcbiAgICAgICAgdmFyIHR5cGUgPSAnc2VsZWN0JztcbiAgICAgICAgdmFyIGxpbmsgPSAkKHRoaXMpLmRhdGEoJ2FjdGlvbicpO1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9ICQodGhpcykuZGF0YSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgJCgnI3NlbGVjdEl0ZW1JZCcpLnZhbChpZCk7XG4gICAgICAgIHZhciB0eXBlcyA9ICQodGhpcykuZGF0YSgndHlwZXMnKTtcbiAgICAgICAgc2hvd1BvcHVwKHBvcHVwVGl0bGUsIHBvcHVwQ29udGVudCwgdHlwZSwgbGluaywgdHlwZXMsIHNlbGVjdGVkKTtcbiAgICB9KTtcblxuICAgIHZhciBwb3B1cCA9ICQoJy5hZG1pbi1wYW5lbF9fcG9wdXAuZGF0YWJhc2UnKTtcblxuICAgIGZ1bmN0aW9uIHNob3dQb3B1cCh0aXRsZSwgY29udGVudCwgdHlwZSwgbGluaywgdHlwZXMsIHNlbGVjdGVkKSB7XG5cbiAgICAgICAgJChwb3B1cCkuZmluZCgnLnRpdGxlJykudGV4dCh0aXRsZSk7XG4gICAgICAgICQocG9wdXApLmZpbmQoJy5jb250ZW50IC50ZXh0JykudGV4dChjb250ZW50KTtcblxuICAgICAgICBpZih0eXBlID09ICdjcmVhdGUnKSB7XG4gICAgICAgICAgICBpZih0eXBlcyAhPSAnJyl7XG4gICAgICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmNyZWF0ZS4nICsgdHlwZXMpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAkKHBvcHVwKS5maW5kKCcuY3JlYXRlJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmNyZWF0ZScpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5jcmVhdGUgZm9ybScpLmF0dHIoJ2FjdGlvbicsIGxpbmspO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmRlbGV0ZScpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5lZGl0JykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLnNlbGVjdCcpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgfSBlbHNlIGlmKHR5cGUgPT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5jcmVhdGUnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAkKHBvcHVwKS5maW5kKCcuZGVsZXRlJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmRlbGV0ZSBmb3JtJykuYXR0cignYWN0aW9uJywgbGluayk7XG4gICAgICAgICAgICAkKHBvcHVwKS5maW5kKCcuZWRpdCcpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5zZWxlY3QnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSBpZih0eXBlID09ICdlZGl0Jykge1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmNyZWF0ZScpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5kZWxldGUnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAkKHBvcHVwKS5maW5kKCcuZWRpdCcpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5lZGl0IGZvcm0nKS5hdHRyKCdhY3Rpb24nLCBsaW5rKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5zZWxlY3QnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSBpZih0eXBlID09ICdzZWxlY3QnKSB7XG4gICAgICAgICAgICAkKHBvcHVwKS5maW5kKCcuY3JlYXRlJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLmRlbGV0ZScpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5lZGl0JykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLnNlbGVjdCcpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5zZWxlY3QgZm9ybScpLmF0dHIoJ2FjdGlvbicsIGxpbmspO1xuICAgICAgICAgICAgJChwb3B1cCkuZmluZCgnLnNlbGVjdCBmb3JtIG9wdGlvbicpLmVhY2goZnVuY3Rpb24gKGkpIHtcblxuICAgICAgICAgICAgaWYoJChwb3B1cCkuZmluZCgnLnNlbGVjdCBmb3JtIG9wdGlvbicpLmVxKGkpLnZhbCgpID09IHNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYoJChwb3B1cCkuZmluZCgnLnNlbGVjdCBmb3JtIG9wdGlvbicpLmVxKGkpLmF0dHIoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJykpO1xuICAgICAgICAgICAgICAgICQocG9wdXApLmZpbmQoJy5zZWxlY3QgZm9ybSAuc2VsZWN0b3Igc3BhbicpLnRleHQoJChwb3B1cCkuZmluZCgnLnNlbGVjdCBmb3JtIG9wdGlvbicpLmVxKGkpLnRleHQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvcHVwLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93RXJyb3IoZXJyb3IpIHtcblxuICAgICAgICBpZighZXJyb3IpIHtcbiAgICAgICAgICAgICQoJyNhZGRFcnJvcicpLmh0bWwoJycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoaXNfYXJyYXkoZXJyb3IpKSB7XG5cbiAgICAgICAgICAgIGlmIChlcnJvci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlcnJvci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JCbG9jayA9XG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImFkbWluLXBhbmVsX19ub3RlcyB3YXJuaW5nXCIgaWQ9XCJhZGRUZWNoRXJyb3JcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8cD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3Ryb25nPtCS0L3QuNC80LDQvdC40LU6PC9zdHJvbmc+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJkZXNjclwiPicgKyBlcnJvcltpXSArICc8L3NwYW4+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9wPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbGRfaHRtbCA9ICQoJyNhZGRFcnJvcicpLmh0bWwoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2FkZEVycm9yJykuaHRtbChvbGRfaHRtbCArIGVycm9yQmxvY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBlcnJvckJsb2NrID1cbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImFkbWluLXBhbmVsX19ub3RlcyB3YXJuaW5nXCI+JyArXG4gICAgICAgICAgICAgICAgJzxwPicgK1xuICAgICAgICAgICAgICAgICc8c3Ryb25nPtCS0L3QuNC80LDQvdC40LU6PC9zdHJvbmc+JyArXG4gICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZGVzY3JcIj4nICsgZXJyb3IgKyAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICc8L3A+JyArXG4gICAgICAgICAgICAgICAgJzwvZGl2Pic7XG4gICAgICAgICAgICAkKCcjYWRkRXJyb3InKS5odG1sKGVycm9yQmxvY2spO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc19hcnJheSAoYSkge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiBhID09IFwib2JqZWN0XCIpICYmIChhIGluc3RhbmNlb2YgQXJyYXkpO1xuICAgIH1cblxuICAgICQoJ3VsLnRhYnMgYScpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgdGFibGVUYWJzKHRoaXMpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gdGFibGVUYWJzIChlbCkge1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5wb3MgPSAtMTtcblxuICAgICAgICAkKCd1bC50YWJzIGEnKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG5cbiAgICAgICAgICAgIGlmKHRoaXMgPT0gZWwpe1xuICAgICAgICAgICAgICAgIHNlbGYucG9zID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgndWwudGFicyBhJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkKGVsKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQoJ3RhYmxlLnRhYnMgLnRhYicpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgJCgndGFibGUudGFicyAudGFiJykuZXEoc2VsZi5wb3MpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgJCgnLmR5bmFtaWMtdGFibGVfX3N0YXRzLnRhYnMgLnRhYicpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgJCgnLmR5bmFtaWMtdGFibGVfX3N0YXRzLnRhYnMgLnRhYicpLmVxKHNlbGYucG9zKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgfVxuXG5cbiAgICB2YXIgUG9wdXAgPSB7XG5cbiAgICAgICAgc2hvcFBvcHVwV2l0aERldGFpbGVkRGVzY3JpcHRpb24gOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICQoJy5zaG9wUG9wdXBXaXRoRGV0YWlsZWREZXNjcmlwdGlvbicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICAkKCcuc2hvcFBvcHVwV2l0aERldGFpbGVkRGVzY3JpcHRpb24nKS5uZXh0KCcuYWRkaXRpb25hbC1pbmZvJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICQodGhpcykubmV4dCgnLmFkZGl0aW9uYWwtaW5mbycpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgIGlmICgkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnLmFkZGl0aW9uYWwtaW5mbycpLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICQoJy5zaG9wUG9wdXBXaXRoRGV0YWlsZWREZXNjcmlwdGlvbicpLm5leHQoJy5hZGRpdGlvbmFsLWluZm8nKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBQb3B1cC5zaG9wUG9wdXBXaXRoRGV0YWlsZWREZXNjcmlwdGlvbigpO1xuXG59KTtcbiJdfQ==
